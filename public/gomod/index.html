<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Go基础系列：3. 环境搭建疑惑 - gomod学习 | PrintLove</title><meta name=keywords content="go,gomod管理"><meta name=description content="gomod如何使用，不同配置的含义，gomod命令的作用"><meta name=author content="Evan Miao"><link rel=canonical href=https://www.gby.ai/gomod/><link crossorigin=anonymous href=/assets/css/stylesheet.0f4d06feb7a00553d7b46603ca44aaca1dd036cd7082d6cecf39137242c0cb9e.css integrity="sha256-D00G/regBVPXtGYDykSqyh3QNs1wgtbOzzkTckLAy54=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.gby.ai/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.gby.ai/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.gby.ai/favicon-32x32.png><link rel=apple-touch-icon href=https://www.gby.ai/apple-touch-icon.png><link rel=mask-icon href=https://www.gby.ai/safari_pinned_tab.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4bddc7ae6f2203e19017f349bdcc79c2",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VE0D4BXTS2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VE0D4BXTS2",{anonymize_ip:!1})}</script><meta property="og:title" content="Go基础系列：3. 环境搭建疑惑 - gomod学习"><meta property="og:description" content="gomod如何使用，不同配置的含义，gomod命令的作用"><meta property="og:type" content="article"><meta property="og:url" content="https://www.gby.ai/gomod/"><meta property="og:image" content="https://images.unsplash.com/photo-1588665343610-04dfd562e2e7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwzOHx8cXVlc3Rpb258ZW58MHwwfHx8MTcwMzMwMTczNXww&ixlib=rb-4.0.3&q=80&w=400"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-09T18:18:56+08:00"><meta property="article:modified_time" content="2021-07-09T18:18:56+08:00"><meta property="og:site_name" content="PrintLove"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1588665343610-04dfd562e2e7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwzOHx8cXVlc3Rpb258ZW58MHwwfHx8MTcwMzMwMTczNXww&ixlib=rb-4.0.3&q=80&w=400"><meta name=twitter:title content="Go基础系列：3. 环境搭建疑惑 - gomod学习"><meta name=twitter:description content="gomod如何使用，不同配置的含义，gomod命令的作用"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.gby.ai/posts/"},{"@type":"ListItem","position":2,"name":"Go基础系列：3. 环境搭建疑惑 - gomod学习","item":"https://www.gby.ai/gomod/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Go基础系列：3. 环境搭建疑惑 - gomod学习","name":"Go基础系列：3. 环境搭建疑惑 - gomod学习","description":"gomod如何使用，不同配置的含义，gomod命令的作用","keywords":["go","gomod管理"],"articleBody":"本篇是对大家在搭建环境时遇到的 gomod 问题产生的疑惑进行讲解。\n什么是 gomod 全名 go modules，简单说就是 go 项目用来管理第三方包的工具。此特性是 golang 1.11 版本开始增加的。\n三个设置 在”Go 基础系列 | 环境搭建“那篇文章中，讲解了设置 GO111MODULE 环境变量为 on，不懂了可以看看那篇文章，那里会有针对不同系统的讲解。但 GO111MODULE 环境变量其实有三个值可以设置，具体如下：\non：强制启用 gomod 管理第三方包，因此项目目录下必须包含 go.mod 文件。\noff：通过当前项目下 vendor 目录或者 GOPATH 模式来查找。\nauto：如果当前项目下有 go.mod 文件，就采用 on 的形式，不存在采用 off 的形式。\n注：实际开发中建议设置为 on\n常见命令 1. 初始化 初始化命令，会在当前目录下生成 go.mod 文件，在一个项目中，此文件只需要一份，放置在项目根目录。\ngo mod init ## 自定义 module 名称 go mod init study go.mod 内容如下：\n## 当前目录是study，自动生成 module study go 1.16 2. 自动更新 自动下载当前项目所依赖的第三方包，会自动生成 go.sum 文件，该文件包含当前项目所依赖的第三方包所依赖的所有具体版本。如果项目中删除了某个依赖包，也会从 go.mod 文件中删除。\ngo mod tidy 3. 拷贝 vendor 自动将依赖的第三方包拷贝到 vendor 目录下。\ngo mod vendor 4. 其它 以上是我经常使用到的命令，剩下的命令很少使用。\ngo mod download：下载依赖包，当前项目中如果没有引入是不会进行下载，下面会说个实际使用的操作\ngo mod edit：编辑 go.mod\ngo mod graph：打印模块依赖图\ngo mod verify：验证依赖是否正确\ngo mod why：解释为什么需要依赖\nGoland 引入包 说说我在实际开发中的一个流程，假如现在你也使用 Goland 的编辑器进行写代码，并且开启了 gomod，那如何引入一个新的包，流程如下。\n1. 下载 在自己项目下，使用 go get 命令下载包，假如下载 gin 框架。\n## 拉取最新的 go get github.com/gin-gonic/gin 运行完成后，会在 go.mod 文件内引入此包，文件内容如下：\nmodule study go 1.16 require github.com/gin-gonic/gin v1.7.2 // indirect 也可以下载指定版本\n## 特定版本，后面跟的是 git 中设置的tag go get github.com/gin-gonic/gin@v1.7.1 ## 拉取具体的某个commit，commit id可略写 go get github.com/gin-gonic/gin@34ce2104cad324f444943c528746bf6d23643cd3 2. 开启 gomod 包提示 左上角点击 File，Setting \u003e Go \u003e Go modules ，开启 Enable Go modules integration。开启后在调用包时会有提示，并且可以通过 ctrl + 鼠标左键，查看源码。\n3. 自动引入 前提是引入了 goimport 工具，在 ”Go 基础系列 | 环境搭建“一篇中有讲解如何配置，下来开始写代码了。\n手写一部分代码时，会自动提示，回车后会自动引入 github.com/gin-gonic/gin 包，完整代码如下：\npackage main import \"github.com/gin-gonic/gin\" func main() { gin.New() } 进一步 掌握了以上知识，应该不会在入门阶段被卡在门外了，现在对于 go.mod 文件内容进行整体的认识。\n// 项目名，别人引入你这个项目的路径 module github.com/a/b // 当前环境的版本号 go 1.16 // 依赖 // 出现 indirect 表示项目中还未使用 require ( one/thing v1.3.2 other/thing v2.5.0 // indirect ... ) // 排除具体的版本 // 如果某个版本出现重要bug,可以这么做 exclude ( bad/thing v0.7.3 ) // 替代 replace ( // 项目中通过src/thing引入，但实际引入的位置是dst/thing，相当于取个别名 src/thing 1.0.2 =\u003e dst/thing v1.1.0 ) 最小版本选择 如果当前项目和依赖的第三方包中出现了引入同一个包时，但不是同一版本，这时候会选择一个最小版本引入。\n总结 对于以上知识，我觉得在实际开发中够用了，如果你遇到了我文中没有提及到的问题，但不知道如何解决，就在下方留言！\n","wordCount":"243","inLanguage":"zh","image":"https://images.unsplash.com/photo-1588665343610-04dfd562e2e7?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwzOHx8cXVlc3Rpb258ZW58MHwwfHx8MTcwMzMwMTczNXww\u0026ixlib=rb-4.0.3\u0026q=80\u0026w=400","datePublished":"2021-07-09T18:18:56+08:00","dateModified":"2021-07-09T18:18:56+08:00","author":[{"@type":"Person","name":"Evan Miao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.gby.ai/gomod/"},"publisher":{"@type":"Organization","name":"PrintLove","logo":{"@type":"ImageObject","url":"https://www.gby.ai/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.gby.ai/ accesskey=h title="PrintLove (Alt + H)">PrintLove</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.gby.ai/archives title=文章><span>文章</span></a></li><li><a href=https://www.gby.ai/series title=系列><span>系列</span></a></li><li><a href=https://www.gby.ai/sponsor title=赞助><span>赞助</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Go基础系列：3. 环境搭建疑惑 - gomod学习</h1><div class=post-meta><span title='2021-07-09 18:18:56 +0800 CST'>2021-07-09</span>&nbsp;·&nbsp;Evan Miao&nbsp;|&nbsp;<a href=https://github.com/miaogaolin/workspace-obisidian-publisher/tree/main/content/posts/Go%e5%9f%ba%e7%a1%80%e7%b3%bb%e5%88%97%ef%bc%9a3.%20%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e7%96%91%e6%83%91%20-%20gomod%e5%ad%a6%e4%b9%a0.md rel="noopener noreferrer" target=_blank>指出问题</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#什么是-gomod>什么是 gomod</a></li><li><a href=#三个设置>三个设置</a></li><li><a href=#常见命令>常见命令</a><ul><li><a href=#1-初始化>1. 初始化</a></li><li><a href=#2-自动更新>2. 自动更新</a></li><li><a href=#3-拷贝-vendor>3. 拷贝 vendor</a></li><li><a href=#4-其它>4. 其它</a></li></ul></li><li><a href=#goland-引入包>Goland 引入包</a><ul><li><a href=#1-下载>1. 下载</a></li><li><a href=#2-开启-gomod-包提示>2. 开启 gomod 包提示</a></li><li><a href=#3-自动引入>3. 自动引入</a></li></ul></li><li><a href=#进一步>进一步</a><ul><li><a href=#最小版本选择>最小版本选择</a></li></ul></li><li><a href=#总结>总结</a></li></ul></nav></div></details></div><div class=post-content><p>本篇是对大家在搭建环境时遇到的 gomod 问题产生的疑惑进行讲解。</p><h2 id=什么是-gomod>什么是 gomod<a hidden class=anchor aria-hidden=true href=#什么是-gomod>#</a></h2><p>全名 go modules，简单说就是 go 项目用来管理第三方包的工具。此特性是 golang 1.11 版本开始增加的。</p><h2 id=三个设置>三个设置<a hidden class=anchor aria-hidden=true href=#三个设置>#</a></h2><p>在”Go 基础系列 | 环境搭建“那篇文章中，讲解了设置 GO111MODULE 环境变量为 on，不懂了可以看看那篇文章，那里会有针对不同系统的讲解。但 GO111MODULE 环境变量其实有三个值可以设置，具体如下：</p><ul><li><p>on：强制启用 gomod 管理第三方包，因此项目目录下必须包含 go.mod 文件。</p></li><li><p>off：通过当前项目下 vendor 目录或者 GOPATH 模式来查找。</p></li><li><p>auto：如果当前项目下有 go.mod 文件，就采用 on 的形式，不存在采用 off 的形式。</p></li></ul><p>注：实际开发中建议设置为 on</p><h2 id=常见命令>常见命令<a hidden class=anchor aria-hidden=true href=#常见命令>#</a></h2><h3 id=1-初始化>1. 初始化<a hidden class=anchor aria-hidden=true href=#1-初始化>#</a></h3><p>初始化命令，会在当前目录下生成 go.mod 文件，在一个项目中，此文件只需要一份，放置在项目根目录。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  
</span></span><span style=display:flex><span>go mod init 
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>## 自定义 module 名称</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>go mod init study
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>go.mod 内容如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>## 当前目录是study，自动生成</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>module study
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>go 1.16
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h3 id=2-自动更新>2. 自动更新<a hidden class=anchor aria-hidden=true href=#2-自动更新>#</a></h3><p>自动下载当前项目所依赖的第三方包，会自动生成 go.sum 文件，该文件包含当前项目所依赖的第三方包所依赖的所有具体版本。如果项目中删除了某个依赖包，也会从 go.mod 文件中删除。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  
</span></span><span style=display:flex><span>go mod tidy
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h3 id=3-拷贝-vendor>3. 拷贝 vendor<a hidden class=anchor aria-hidden=true href=#3-拷贝-vendor>#</a></h3><p>自动将依赖的第三方包拷贝到 vendor 目录下。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  
</span></span><span style=display:flex><span>go mod vendor
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h3 id=4-其它>4. 其它<a hidden class=anchor aria-hidden=true href=#4-其它>#</a></h3><p>以上是我经常使用到的命令，剩下的命令很少使用。</p><ul><li><p>go mod download：下载依赖包，当前项目中如果没有引入是不会进行下载，下面会说个实际使用的操作</p></li><li><p>go mod edit：编辑 go.mod</p></li><li><p>go mod graph：打印模块依赖图</p></li><li><p>go mod verify：验证依赖是否正确</p></li><li><p>go mod why：解释为什么需要依赖</p></li></ul><h2 id=goland-引入包>Goland 引入包<a hidden class=anchor aria-hidden=true href=#goland-引入包>#</a></h2><p>说说我在实际开发中的一个流程，假如现在你也使用 Goland 的编辑器进行写代码，并且开启了 gomod，那如何引入一个新的包，流程如下。</p><h3 id=1-下载>1. 下载<a hidden class=anchor aria-hidden=true href=#1-下载>#</a></h3><p>在自己项目下，使用 go get 命令下载包，假如下载 gin 框架。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>## 拉取最新的</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>go get github.com/gin-gonic/gin
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>运行完成后，会在 go.mod 文件内引入此包，文件内容如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  
</span></span><span style=display:flex><span>module study
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>go 1.16
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>require github.com/gin-gonic/gin v1.7.2 // indirect
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>也可以下载指定版本</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>## 特定版本，后面跟的是 git 中设置的tag</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>go get github.com/gin-gonic/gin@v1.7.1
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>## 拉取具体的某个commit，commit id可略写</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>go get  github.com/gin-gonic/gin@34ce2104cad324f444943c528746bf6d23643cd3
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h3 id=2-开启-gomod-包提示>2. 开启 gomod 包提示<a hidden class=anchor aria-hidden=true href=#2-开启-gomod-包提示>#</a></h3><p>左上角点击 File，Setting > Go > Go modules ，开启 Enable Go modules integration。开启后在调用包时会有提示，并且可以通过 ctrl + 鼠标左键，查看源码。</p><p><img loading=lazy src=/images/0d1907b0af27de66e89b979e48c3ae12.png alt=0d1907b0af27de66e89b979e48c3ae12.png></p><h3 id=3-自动引入>3. 自动引入<a hidden class=anchor aria-hidden=true href=#3-自动引入>#</a></h3><p>前提是引入了 goimport 工具，在 ”Go 基础系列 | 环境搭建“一篇中有讲解如何配置，下来开始写代码了。</p><p><img loading=lazy src=/images/ff5b30392401a5619af9164726ce2603.png alt=ff5b30392401a5619af9164726ce2603.png></p><p>手写一部分代码时，会自动提示，回车后会自动引入 <a href=http://github.com/gin-gonic/gin>github.com/gin-gonic/gin</a> 包，完整代码如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;github.com/gin-gonic/gin&#34;</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>gin</span>.<span style=color:#a6e22e>New</span>()
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h2 id=进一步>进一步<a hidden class=anchor aria-hidden=true href=#进一步>#</a></h2><p>掌握了以上知识，应该不会在入门阶段被卡在门外了，现在对于 go.mod 文件内容进行整体的认识。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 项目名，别人引入你这个项目的路径
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>module</span> <span style=color:#a6e22e>github</span>.<span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>a</span><span style=color:#f92672>/</span><span style=color:#a6e22e>b</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 当前环境的版本号
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#ae81ff>1.16</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 依赖
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 出现 indirect 表示项目中还未使用
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>require</span> (
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>one</span><span style=color:#f92672>/</span><span style=color:#a6e22e>thing</span> <span style=color:#a6e22e>v1</span><span style=color:#ae81ff>.3.2</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>other</span><span style=color:#f92672>/</span><span style=color:#a6e22e>thing</span> <span style=color:#a6e22e>v2</span><span style=color:#ae81ff>.5.0</span> <span style=color:#75715e>// indirect
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 排除具体的版本
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 如果某个版本出现重要bug,可以这么做
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>exclude</span> (
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>bad</span><span style=color:#f92672>/</span><span style=color:#a6e22e>thing</span> <span style=color:#a6e22e>v0</span><span style=color:#ae81ff>.7.3</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 替代
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>replace</span> (
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 项目中通过src/thing引入，但实际引入的位置是dst/thing，相当于取个别名
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>src</span><span style=color:#f92672>/</span><span style=color:#a6e22e>thing</span> <span style=color:#ae81ff>1.0.2</span> =&gt; <span style=color:#a6e22e>dst</span><span style=color:#f92672>/</span><span style=color:#a6e22e>thing</span> <span style=color:#a6e22e>v1</span><span style=color:#ae81ff>.1.0</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h3 id=最小版本选择>最小版本选择<a hidden class=anchor aria-hidden=true href=#最小版本选择>#</a></h3><p>如果当前项目和依赖的第三方包中出现了引入同一个包时，但不是同一版本，这时候会选择一个最小版本引入。</p><h2 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p>对于以上知识，我觉得在实际开发中够用了，如果你遇到了我文中没有提及到的问题，但不知道如何解决，就在下方留言！</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.gby.ai/golang-var/><span class=title>« 上一页</span><br><span>Go基础系列：4. 变量及数据类型</span></a>
<a class=next href=https://www.gby.ai/golang-install/><span class=title>下一页 »</span><br><span>Go基础系列：2. 环境搭建</span></a></nav><div class=comment-head>评论 & Email：</div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Go基础系列：3. 环境搭建疑惑 - gomod学习 on x" href="https://x.com/intent/tweet/?text=@laomiao_ Go%e5%9f%ba%e7%a1%80%e7%b3%bb%e5%88%97%ef%bc%9a3.%20%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e7%96%91%e6%83%91%20-%20gomod%e5%ad%a6%e4%b9%a0&amp;url=https%3a%2f%2fwww.gby.ai%2fgomod%2f&amp;hashtags="><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 50 50" fill="currentcolor"><path d="M5.9199219 6 20.582031 27.375 6.2304688 44H9.4101562L21.986328 29.421875 31.986328 44H44L28.681641 21.669922 42.199219 6H39.029297L27.275391 19.617188 17.933594 6H5.9199219zm3.796875 2H16.880859L40.203125 42H33.039062L9.7167969 8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Go基础系列：3. 环境搭建疑惑 - gomod学习 on email" href="mailto:mglluoye@gmail.com?subject=Go%e5%9f%ba%e7%a1%80%e7%b3%bb%e5%88%97%ef%bc%9a3.%20%e7%8e%af%e5%a2%83%e6%90%ad%e5%bb%ba%e7%96%91%e6%83%91%20-%20gomod%e5%ad%a6%e4%b9%a0"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447 4.92893 2 7.28595 2 12 2c4.714.0 7.0711.0 8.5355 1.46447C22 4.92893 22 7.28595 22 12c0 4.714.0 7.0711-1.4645 8.5355C19.0711 22 16.714 22 12 22c-4.71405.0-7.07107.0-8.53553-1.4645C2 19.0711 2 16.714 2 12z" stroke="currentcolor" stroke-width="1.5"/><path d="M2 13H5.16026c.90517.0 1.35776.0 1.75558.183.39783.1829.69237.5266 1.28145 1.2138L8.80271 15.1032C9.39179 15.7904 9.68633 16.1341 10.0842 16.317 10.482 16.5 10.9346 16.5 11.8397 16.5H12.1603C13.0654 16.5 13.518 16.5 13.9158 16.317 14.3137 16.1341 14.6082 15.7904 15.1973 15.1032L15.8027 14.3968C16.3918 13.7096 16.6863 13.3659 17.0842 13.183 17.482 13 17.9346 13 18.8397 13H22" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7h8" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M10 10.5h4" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg></a></div></footer></article></main><footer class=footer><span>Content under license <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>