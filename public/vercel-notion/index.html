<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vercel + Notion 建个人博客 | PrintLove</title><meta name=keywords content><meta name=description content="大家好，我是 “潇洒哥老苗”。
今天我带大家创建一个站，不需要购买服务器，只需要掏钱买个自己喜欢的域名即可。
涉及 Vercel：免费静态网站托管 Notion：内容后台 CloudFlare：CDN 加速 域名 nextjs-notion-starter-kit：以 Notion 为后台的网站 nextjs-notion-starter-kit 地址：https://github.com/transitive-bullshit/nextjs-notion-starter-kit
1. fork 打开该网址，然后 fork 该项目。
2. 修改项目名(可选) 如果 fork 后的项目名不喜欢，可以修改自己喜欢的。
3. 修改配置 在项目根目录打开 site.config.js 文件，点击修改，如下：
编辑文件
然后修改几处内容，刚开始只需要看有中文描述的几处。
module.exports = { // where it all starts -- the site's root Notion page (required) // Notion 根页面的 ID rootNotionPageId: 'c811c01b7d824f5ba966f688ee37652b', // if you want to restrict pages to a single notion workspace (optional) // (this should be a Notion ID; see the docs for how to extract this) rootNotionSpaceId: null, // basic site info (required) name: '老苗', // 站名 domain: 'laomiao."><meta name=author content="Evan Miao"><link rel=canonical href=https://www.printlove.cn/vercel-notion/><link crossorigin=anonymous href=/assets/css/stylesheet.0f4d06feb7a00553d7b46603ca44aaca1dd036cd7082d6cecf39137242c0cb9e.css integrity="sha256-D00G/regBVPXtGYDykSqyh3QNs1wgtbOzzkTckLAy54=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.printlove.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.printlove.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.printlove.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://www.printlove.cn/apple-touch-icon.png><link rel=mask-icon href=https://www.printlove.cn/safari_pinned_tab.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4bddc7ae6f2203e19017f349bdcc79c2",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VE0D4BXTS2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VE0D4BXTS2",{anonymize_ip:!1})}</script><meta property="og:title" content="Vercel + Notion 建个人博客"><meta property="og:description" content="大家好，我是 “潇洒哥老苗”。
今天我带大家创建一个站，不需要购买服务器，只需要掏钱买个自己喜欢的域名即可。
涉及 Vercel：免费静态网站托管 Notion：内容后台 CloudFlare：CDN 加速 域名 nextjs-notion-starter-kit：以 Notion 为后台的网站 nextjs-notion-starter-kit 地址：https://github.com/transitive-bullshit/nextjs-notion-starter-kit
1. fork 打开该网址，然后 fork 该项目。
2. 修改项目名(可选) 如果 fork 后的项目名不喜欢，可以修改自己喜欢的。
3. 修改配置 在项目根目录打开 site.config.js 文件，点击修改，如下：
编辑文件
然后修改几处内容，刚开始只需要看有中文描述的几处。
module.exports = { // where it all starts -- the site's root Notion page (required) // Notion 根页面的 ID rootNotionPageId: 'c811c01b7d824f5ba966f688ee37652b', // if you want to restrict pages to a single notion workspace (optional) // (this should be a Notion ID; see the docs for how to extract this) rootNotionSpaceId: null, // basic site info (required) name: '老苗', // 站名 domain: 'laomiao."><meta property="og:type" content="article"><meta property="og:url" content="https://www.printlove.cn/vercel-notion/"><meta property="og:image" content="https://images.unsplash.com/photo-1663813251302-e5d2c7199e86?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxNHx8bm90aW9ufGVufDB8MHx8fDE3MDM1MTUyOTd8MA&ixlib=rb-4.0.3&q=80&w=400"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-17T11:58:02+08:00"><meta property="article:modified_time" content="2021-12-17T11:58:02+08:00"><meta property="og:site_name" content="PrintLove"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1663813251302-e5d2c7199e86?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxNHx8bm90aW9ufGVufDB8MHx8fDE3MDM1MTUyOTd8MA&ixlib=rb-4.0.3&q=80&w=400"><meta name=twitter:title content="Vercel + Notion 建个人博客"><meta name=twitter:description content="大家好，我是 “潇洒哥老苗”。
今天我带大家创建一个站，不需要购买服务器，只需要掏钱买个自己喜欢的域名即可。
涉及 Vercel：免费静态网站托管 Notion：内容后台 CloudFlare：CDN 加速 域名 nextjs-notion-starter-kit：以 Notion 为后台的网站 nextjs-notion-starter-kit 地址：https://github.com/transitive-bullshit/nextjs-notion-starter-kit
1. fork 打开该网址，然后 fork 该项目。
2. 修改项目名(可选) 如果 fork 后的项目名不喜欢，可以修改自己喜欢的。
3. 修改配置 在项目根目录打开 site.config.js 文件，点击修改，如下：
编辑文件
然后修改几处内容，刚开始只需要看有中文描述的几处。
module.exports = { // where it all starts -- the site's root Notion page (required) // Notion 根页面的 ID rootNotionPageId: 'c811c01b7d824f5ba966f688ee37652b', // if you want to restrict pages to a single notion workspace (optional) // (this should be a Notion ID; see the docs for how to extract this) rootNotionSpaceId: null, // basic site info (required) name: '老苗', // 站名 domain: 'laomiao."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.printlove.cn/posts/"},{"@type":"ListItem","position":2,"name":"Vercel + Notion 建个人博客","item":"https://www.printlove.cn/vercel-notion/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vercel + Notion 建个人博客","name":"Vercel \u002b Notion 建个人博客","description":"大家好，我是 “潇洒哥老苗”。\n今天我带大家创建一个站，不需要购买服务器，只需要掏钱买个自己喜欢的域名即可。\n涉及 Vercel：免费静态网站托管 Notion：内容后台 CloudFlare：CDN 加速 域名 nextjs-notion-starter-kit：以 Notion 为后台的网站 nextjs-notion-starter-kit 地址：https://github.com/transitive-bullshit/nextjs-notion-starter-kit\n1. fork 打开该网址，然后 fork 该项目。\n2. 修改项目名(可选) 如果 fork 后的项目名不喜欢，可以修改自己喜欢的。\n3. 修改配置 在项目根目录打开 site.config.js 文件，点击修改，如下：\n编辑文件\n然后修改几处内容，刚开始只需要看有中文描述的几处。\nmodule.exports = { // where it all starts -- the site\u0026#39;s root Notion page (required) // Notion 根页面的 ID rootNotionPageId: \u0026#39;c811c01b7d824f5ba966f688ee37652b\u0026#39;, // if you want to restrict pages to a single notion workspace (optional) // (this should be a Notion ID; see the docs for how to extract this) rootNotionSpaceId: null, // basic site info (required) name: \u0026#39;老苗\u0026#39;, // 站名 domain: \u0026#39;laomiao.","keywords":[],"articleBody":"大家好，我是 “潇洒哥老苗”。\n今天我带大家创建一个站，不需要购买服务器，只需要掏钱买个自己喜欢的域名即可。\n涉及 Vercel：免费静态网站托管 Notion：内容后台 CloudFlare：CDN 加速 域名 nextjs-notion-starter-kit：以 Notion 为后台的网站 nextjs-notion-starter-kit 地址：https://github.com/transitive-bullshit/nextjs-notion-starter-kit\n1. fork 打开该网址，然后 fork 该项目。\n2. 修改项目名(可选) 如果 fork 后的项目名不喜欢，可以修改自己喜欢的。\n3. 修改配置 在项目根目录打开 site.config.js 文件，点击修改，如下：\n编辑文件\n然后修改几处内容，刚开始只需要看有中文描述的几处。\nmodule.exports = { // where it all starts -- the site's root Notion page (required) // Notion 根页面的 ID rootNotionPageId: 'c811c01b7d824f5ba966f688ee37652b', // if you want to restrict pages to a single notion workspace (optional) // (this should be a Notion ID; see the docs for how to extract this) rootNotionSpaceId: null, // basic site info (required) name: '老苗', // 站名 domain: 'laomiao.site', // 域名 author: '老苗', // 作者 // open graph metadata (optional) description: '专注技术、持续学习', // 网站描述 socialImageTitle: 'Transitive Bullshit', socialImageSubtitle: 'Hello World! 👋', // social usernames (optional) // 社交账号 twitter: 'laomiao_', github: 'miaogaolin', linkedin: '', // default notion icon and cover images for site-wide consistency (optional) // page-specific values will override these site-wide defaults defaultPageIcon: null, defaultPageCover: null, defaultPageCoverPosition: 0.5, // image CDN host to proxy all image requests through (optional) // NOTE: this requires you to set up an external image proxy imageCDNHost: null, // Utteranc.es comments via GitHub issue comments (optional) utterancesGitHubRepo: null, // whether or not to enable support for LQIP preview images (optional) // NOTE: this requires you to set up Google Firebase and add the environment // variables specified in .env.example isPreviewImageSupportEnabled: false, // map of notion page IDs to URL paths (optional) // any pages defined here will override their default URL paths // example: // // pageUrlOverrides: { // '/foo': '067dd719a912471ea9a3ac10710e7fdf', // '/bar': '0be6efce9daf42688f65c76b89f8eb27' // } pageUrlOverrides: null } 改完后直接提交。\n4. rootNotionPageId 从这个 ID 页面开始同步网站，该页面必须公开，选中下图 Share to Web。\nID 从网址上找，例如：\nVercel 下来做的是，将 Notion 的内容同步到 https://vercel.com/ 网站，等这个完了再解析域名即可。\n1. Github 使用 Github 登录\n2. 创建项目 3. Import \u0026 Deploy 导入 Github 上 fork 后的项目，import 后再点击 deploy，下来需要耐心等会。\nImport\nDeploy\n4. 域名 完成后点击 Go to Dashboard \u003e View Domains，再添加自己的域名。\nDomain\n添加完后，再解析自己的域名，我的域名在阿里云购买的，先复制上图中蓝色框的内容，这个是在 Vercel 站上给你分配的域名。这个域名不方便，所以用自己的。\n图解：\n记录类型：CNAME 记录值：填写自己的 网站细节调整 1. 修改 copyright 时间 最新代码无需设置。\n从根目录打开 components/Footer.tsx 文件，在大概 38 行处修改，如下图：\n2. 默认 icon 和 conver 图 每个 notion 页面都可以设置这两个图，当如果也想在不设置的情况下，网站提供一个默认图，可以修改 site.config.js 如下配置：\ndefaultPageIcon: \"https://laomiao.site/page-icon.png\", defaultPageCover: \"https://laomiao.site/page-conver.jpg\", 按照我这个地址，是把图片放置在了根目录下的 public/ 下。\n3. 首页文章配置 这是我个人的文章属性：\n其中 4 个拿出来说明下：\nPublished 发布时间 Tags 标签 Public 是否公开 Featured 是否好文章 Published 发布 和 Tags 标签在如下图中配置，展示列表中出现的信息：\n文章列表信息\nPublic 用于筛选，确定是否在首页展示。\nFeatured 和 Published 用于排序。\n如果不想展示的属性你这隐藏起来，不然会页面上展示出来，记着属性的顺序也会影响到页面的展示：\nCloudFlare 也可以不使用 CloudFlare 加速网站，但是如果使用 Vercel 部署的网站在国内访问起来会比较慢，可以试试，反正我没用，用了发现速度提不起来。\n1. 添加网站 打开 CloudFlare 网站，添加自己的域名，cloudflare.com，后面咱简称 CF。\n2. DNS 找到自己购买的域名，然后修改 DNS 服务器，修改成什么样呢？\n先打开 CloudFlare 后台，找到 DNS 服务器地址，如下：\n然后修改域名的 DNS 服务器地址，如下：\nCF 上解析 DNS，如下：\n图解：\n内容：复制该 IP 地址，这是 Vercel 的 IP。 代理状态：设置为仅限 DNS。 3. 规则 在 CF 上添加两条规则，记着要根据自己的域名配置，这些配置是为了解决 SSL 证书问题，具体的，咱没深究。\n4. 边缘证书 点击 SSL/TLS \u003e 边缘证书，关闭 Https，至于为啥，暂时也没深究，我在第一次操作时没有添加，网站访问速度还是，后面加上后好了，不知道是巧合还是什么。\n扩展 1. 分析 配置都完了，现在可以再访问了，如果你还想分析网站的访问速度情况，可以打开 Vercel 的分析模块。\n参考 https://while.work/vercel https://www.zhihu.com/question/342631132/answer/1844997654 作者项目 Notion 页面 相关阅读 Google/Bing/Baidu验证并收录网站。\nVercel 解决静态网站接口跨域\n使用 Cloudflare Workers 加速图片访问\nVercel + Notion 本地部署\nnextjs-notion-starter-kit 部署不成功，sitemap访问失败\n","wordCount":"444","inLanguage":"zh","image":"https://images.unsplash.com/photo-1663813251302-e5d2c7199e86?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxNHx8bm90aW9ufGVufDB8MHx8fDE3MDM1MTUyOTd8MA\u0026ixlib=rb-4.0.3\u0026q=80\u0026w=400","datePublished":"2021-12-17T11:58:02+08:00","dateModified":"2021-12-17T11:58:02+08:00","author":[{"@type":"Person","name":"Evan Miao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.printlove.cn/vercel-notion/"},"publisher":{"@type":"Organization","name":"PrintLove","logo":{"@type":"ImageObject","url":"https://www.printlove.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.printlove.cn/ accesskey=h title="PrintLove (Alt + H)">PrintLove</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.printlove.cn/archives title=文章><span>文章</span></a></li><li><a href=https://www.printlove.cn/series title=系列><span>系列</span></a></li><li><a href=https://www.printlove.cn/sponsor title=赞助><span>赞助</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Vercel + Notion 建个人博客</h1><div class=post-meta><span title='2021-12-17 11:58:02 +0800 CST'>2021-12-17</span>&nbsp;·&nbsp;Evan Miao&nbsp;|&nbsp;<a href=https://github.com/miaogaolin/workspace-obisidian-publisher/tree/main/content/posts/Vercel%20+%20Notion%20%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a2.md rel="noopener noreferrer" target=_blank>指出问题</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#涉及>涉及</a></li><li><a href=#nextjs-notion-starter-kit>nextjs-notion-starter-kit</a><ul><li><a href=#1-fork>1. fork</a></li><li><a href=#2-修改项目名可选>2. 修改项目名(可选)</a></li><li><a href=#3-修改配置>3. 修改配置</a></li><li><a href=#4-rootnotionpageid>4. rootNotionPageId</a></li></ul></li><li><a href=#vercel>Vercel</a><ul><li><a href=#1-github>1. Github</a></li><li><a href=#2-创建项目>2. 创建项目</a></li><li><a href=#3-import--deploy>3. Import & Deploy</a></li><li><a href=#4-域名>4. 域名</a></li></ul></li><li><a href=#网站细节调整>网站细节调整</a><ul><li><a href=#1--修改-copyright-时间>1. 修改 copyright 时间</a></li><li><a href=#2-默认-icon-和-conver-图>2. 默认 icon 和 conver 图</a></li><li><a href=#3-首页文章配置>3. 首页文章配置</a></li></ul></li><li><a href=#cloudflare>CloudFlare</a><ul><li><a href=#1-添加网站>1. 添加网站</a></li><li><a href=#2-dns>2. DNS</a></li><li><a href=#3-规则>3. 规则</a></li><li><a href=#4-边缘证书>4. 边缘证书</a></li></ul></li><li><a href=#扩展>扩展</a><ul><li><a href=#1-分析>1. 分析</a></li></ul></li><li><a href=#参考>参考</a></li><li><a href=#相关阅读>相关阅读</a></li></ul></nav></div></details></div><div class=post-content><p>大家好，我是 “潇洒哥老苗”。</p><p>今天我带大家创建一个站，不需要购买服务器，只需要掏钱买个自己喜欢的域名即可。</p><h2 id=涉及>涉及<a hidden class=anchor aria-hidden=true href=#涉及>#</a></h2><ol><li>Vercel：免费静态网站托管</li><li>Notion：内容后台</li><li>CloudFlare：CDN 加速</li><li>域名</li><li>nextjs-notion-starter-kit：以 Notion 为后台的网站</li></ol><h2 id=nextjs-notion-starter-kit>nextjs-notion-starter-kit<a hidden class=anchor aria-hidden=true href=#nextjs-notion-starter-kit>#</a></h2><p>地址：<a href=https://github.com/transitive-bullshit/nextjs-notion-starter-kit>https://github.com/transitive-bullshit/nextjs-notion-starter-kit</a></p><h3 id=1-fork>1. fork<a hidden class=anchor aria-hidden=true href=#1-fork>#</a></h3><p>打开该网址，然后 fork 该项目。</p><h3 id=2-修改项目名可选>2. 修改项目名(可选)<a hidden class=anchor aria-hidden=true href=#2-修改项目名可选>#</a></h3><p>如果 fork 后的项目名不喜欢，可以修改自己喜欢的。</p><p><img loading=lazy src=/images/913536e88e1239fc0ac8b5fadb43c03c.webp alt=913536e88e1239fc0ac8b5fadb43c03c.webp></p><h3 id=3-修改配置>3. 修改配置<a hidden class=anchor aria-hidden=true href=#3-修改配置>#</a></h3><p>在项目根目录打开 <code>site.config.js</code> 文件，点击修改，如下：<br><img loading=lazy src=/images/00edade6947129d9342d124b3d8def27.webp alt=编辑文件></p><p>编辑文件</p><p>然后修改几处内容，刚开始只需要看有中文描述的几处。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=display:flex><span><span style=color:#a6e22e>module</span>.<span style=color:#a6e22e>exports</span> <span style=color:#f92672>=</span> {  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// where it all starts -- the site&#39;s root Notion page (required)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// Notion 根页面的 ID  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>rootNotionPageId</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;c811c01b7d824f5ba966f688ee37652b&#39;</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// if you want to restrict pages to a single notion workspace (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// (this should be a Notion ID; see the docs for how to extract this)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>rootNotionSpaceId</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// basic site info (required)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;老苗&#39;</span>, <span style=color:#75715e>// 站名  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>domain</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;laomiao.site&#39;</span>, <span style=color:#75715e>// 域名  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>author</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;老苗&#39;</span>, <span style=color:#75715e>// 作者  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// open graph metadata (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>description</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;专注技术、持续学习&#39;</span>, <span style=color:#75715e>// 网站描述  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>socialImageTitle</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Transitive Bullshit&#39;</span>,  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>socialImageSubtitle</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Hello World! 👋&#39;</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// social usernames (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// 社交账号  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>twitter</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;laomiao_&#39;</span>,   
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>github</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;miaogaolin&#39;</span>,  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>linkedin</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;&#39;</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// default notion icon and cover images for site-wide consistency (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// page-specific values will override these site-wide defaults  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>defaultPageIcon</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>,  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>defaultPageCover</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>,  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>defaultPageCoverPosition</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>0.5</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// image CDN host to proxy all image requests through (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// NOTE: this requires you to set up an external image proxy  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>imageCDNHost</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Utteranc.es comments via GitHub issue comments (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>utterancesGitHubRepo</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// whether or not to enable support for LQIP preview images (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// NOTE: this requires you to set up Google Firebase and add the environment  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// variables specified in .env.example  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>isPreviewImageSupportEnabled</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// map of notion page IDs to URL paths (optional)  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// any pages defined here will override their default URL paths  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// example:  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>//  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// pageUrlOverrides: {  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>//   &#39;/foo&#39;: &#39;067dd719a912471ea9a3ac10710e7fdf&#39;,  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>//   &#39;/bar&#39;: &#39;0be6efce9daf42688f65c76b89f8eb27&#39;  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// }  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pageUrlOverrides</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>null</span>  
</span></span><span style=display:flex><span>}  
</span></span></code></pre></div><p>改完后直接提交。</p><h3 id=4-rootnotionpageid>4. rootNotionPageId<a hidden class=anchor aria-hidden=true href=#4-rootnotionpageid>#</a></h3><p>从这个 ID 页面开始同步网站，该页面必须公开，选中下图 <strong>Share to Web</strong>。</p><p><img loading=lazy src=/images/d167cf5484ba6be65d85b4138b062db8.webp alt=d167cf5484ba6be65d85b4138b062db8.webp></p><p><strong>ID</strong> 从网址上找，例如：</p><p><img loading=lazy src=/images/2fb669d94403041b67d78c52f82a4ad1.webp alt=2fb669d94403041b67d78c52f82a4ad1.webp></p><h2 id=vercel>Vercel<a hidden class=anchor aria-hidden=true href=#vercel>#</a></h2><p>下来做的是，将 Notion 的内容同步到 <a href=https://vercel.com/>https://vercel.com/</a> 网站，等这个完了再解析域名即可。</p><h3 id=1-github>1. Github<a hidden class=anchor aria-hidden=true href=#1-github>#</a></h3><p>使用 Github 登录</p><h3 id=2-创建项目>2. 创建项目<a hidden class=anchor aria-hidden=true href=#2-创建项目>#</a></h3><p><img loading=lazy src=/images/3e7fc91ea06024fcd08e74eb783365ab.webp alt=3e7fc91ea06024fcd08e74eb783365ab.webp></p><h3 id=3-import--deploy>3. Import & Deploy<a hidden class=anchor aria-hidden=true href=#3-import--deploy>#</a></h3><p>导入 Github 上 fork 后的项目，<strong>import</strong> 后再点击 <strong>deploy</strong>，下来需要耐心等会。</p><p><img loading=lazy src=/images/c1777889058222e03a61b87c005fad80.webp alt=c1777889058222e03a61b87c005fad80.webp></p><p>Import</p><p><img loading=lazy src=/images/9f1c6365a663e0f9c7b6ebac8c513a76.webp alt=9f1c6365a663e0f9c7b6ebac8c513a76.webp></p><p>Deploy</p><h3 id=4-域名>4. 域名<a hidden class=anchor aria-hidden=true href=#4-域名>#</a></h3><p>完成后点击 Go to Dashboard > View Domains，再添加自己的域名。</p><p><img loading=lazy src=/images/2e7e301f17970785f4efddfc9213a4ce.webp alt=2e7e301f17970785f4efddfc9213a4ce.webp></p><p>Domain</p><p>添加完后，再解析自己的域名，我的域名在阿里云购买的，先复制上图中蓝色框的内容，这个是在 Vercel 站上给你分配的域名。这个域名不方便，所以用自己的。</p><p><img loading=lazy src=/images/ebc2ca5107e27f262798df00d428cbbd.webp alt=ebc2ca5107e27f262798df00d428cbbd.webp></p><p><strong>图解：</strong></p><ul><li>记录类型：CNAME</li><li>记录值：填写自己的</li></ul><p><img loading=lazy src=/images/c370b2dc6029ed604493b2ec1e1e6e9a.webp alt=c370b2dc6029ed604493b2ec1e1e6e9a.webp></p><h2 id=网站细节调整>网站细节调整<a hidden class=anchor aria-hidden=true href=#网站细节调整>#</a></h2><h3 id=1--修改-copyright-时间>1. 修改 copyright 时间<a hidden class=anchor aria-hidden=true href=#1--修改-copyright-时间>#</a></h3><p><em>最新代码无需设置。</em></p><p>从根目录打开 components/Footer.tsx 文件，在大概 38 行处修改，如下图：</p><p><img loading=lazy src=/images/de4fd8f73d892d2c4c98ec6ff4d8d638.webp alt=de4fd8f73d892d2c4c98ec6ff4d8d638.webp></p><h3 id=2-默认-icon-和-conver-图>2. 默认 icon 和 conver 图<a hidden class=anchor aria-hidden=true href=#2-默认-icon-和-conver-图>#</a></h3><p>每个 notion 页面都可以设置这两个图，当如果也想在不设置的情况下，网站提供一个默认图，可以修改 <code>site.config.js</code> 如下配置：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>defaultPageIcon</span>: <span style=color:#e6db74>&#34;https://laomiao.site/page-icon.png&#34;</span>,  
</span></span><span style=display:flex><span><span style=color:#f92672>defaultPageCover</span>: <span style=color:#e6db74>&#34;https://laomiao.site/page-conver.jpg&#34;</span>,  
</span></span></code></pre></div><p>按照我这个地址，是把图片放置在了根目录下的 <code>public/</code> 下。</p><h3 id=3-首页文章配置>3. 首页文章配置<a hidden class=anchor aria-hidden=true href=#3-首页文章配置>#</a></h3><p>这是我个人的文章属性：</p><p><img loading=lazy src=/images/12e42b6c8a0cbf1ecba83195955fc510.webp alt=12e42b6c8a0cbf1ecba83195955fc510.webp></p><p>其中 4 个拿出来说明下：</p><ul><li>Published 发布时间</li><li>Tags 标签</li><li>Public 是否公开</li><li>Featured 是否好文章</li></ul><p>Published 发布 和 Tags 标签在如下图中配置，展示列表中出现的信息：</p><p><img loading=lazy src=/images/7f7e00b09654847677319e29a9388363.webp alt=7f7e00b09654847677319e29a9388363.webp></p><p>文章列表信息</p><p>Public 用于筛选，确定是否在首页展示。</p><p>Featured 和 Published 用于排序。<br><img loading=lazy src=/images/cb4dbffb2f3c15ec9270be1ec1d15a2a.webp alt=cb4dbffb2f3c15ec9270be1ec1d15a2a.webp></p><p>如果不想展示的属性你这隐藏起来，不然会页面上展示出来，记着属性的顺序也会影响到页面的展示：<br><img loading=lazy src=/images/3969f6608bb55feb86ed2e6fadd157b8.webp alt=3969f6608bb55feb86ed2e6fadd157b8.webp></p><h2 id=cloudflare>CloudFlare<a hidden class=anchor aria-hidden=true href=#cloudflare>#</a></h2><p>也可以不使用 CloudFlare 加速网站，但是如果使用 Vercel 部署的网站在国内访问起来会比较慢，可以试试，反正我没用，用了发现速度提不起来。</p><h3 id=1-添加网站>1. 添加网站<a hidden class=anchor aria-hidden=true href=#1-添加网站>#</a></h3><p>打开 CloudFlare 网站，添加自己的域名，<a href=http://cloudflare.com/>cloudflare.com</a>，后面咱简称 <strong>CF</strong>。<br><img loading=lazy src=/images/841821b5c5237fc65ab851b1df201e99.webp alt=841821b5c5237fc65ab851b1df201e99.webp></p><h3 id=2-dns>2. DNS<a hidden class=anchor aria-hidden=true href=#2-dns>#</a></h3><p>找到自己购买的域名，然后修改 DNS 服务器，修改成什么样呢？</p><p>先打开 CloudFlare 后台，找到 DNS 服务器地址，如下：</p><p><img loading=lazy src=/images/ad9e5896d42386844ae3e0933424a007.webp alt=ad9e5896d42386844ae3e0933424a007.webp></p><p>然后修改域名的 DNS 服务器地址，如下：</p><p><img loading=lazy src=/images/5e48c9e364d7f7c70821b4be0fd874b4.webp alt=5e48c9e364d7f7c70821b4be0fd874b4.webp></p><p>CF 上解析 DNS，如下：</p><p><img loading=lazy src=/images/66d7b42aac72f0460ff37f95e5a964cc.webp alt=66d7b42aac72f0460ff37f95e5a964cc.webp></p><p>图解：</p><ul><li>内容：复制该 IP 地址，这是 Vercel 的 IP。</li><li>代理状态：设置为仅限 DNS。</li></ul><h3 id=3-规则>3. 规则<a hidden class=anchor aria-hidden=true href=#3-规则>#</a></h3><p>在 CF 上添加两条规则，记着要根据自己的域名配置，这些配置是为了解决 SSL 证书问题，具体的，咱没深究。</p><p><img loading=lazy src=/images/b19afe5fe85ffc869263ced095ebb6dc.webp alt=b19afe5fe85ffc869263ced095ebb6dc.webp></p><h3 id=4-边缘证书>4. 边缘证书<a hidden class=anchor aria-hidden=true href=#4-边缘证书>#</a></h3><p>点击 SSL/TLS > 边缘证书，关闭 Https，至于为啥，暂时也没深究，我在第一次操作时没有添加，网站访问速度还是，后面加上后好了，不知道是巧合还是什么。</p><p><img loading=lazy src=/images/1d021450ce8fbd25bda9adab0f2c875b.webp alt=1d021450ce8fbd25bda9adab0f2c875b.webp></p><h2 id=扩展>扩展<a hidden class=anchor aria-hidden=true href=#扩展>#</a></h2><h3 id=1-分析>1. 分析<a hidden class=anchor aria-hidden=true href=#1-分析>#</a></h3><p>配置都完了，现在可以再访问了，如果你还想分析网站的访问速度情况，可以打开 Vercel 的分析模块。</p><p><img loading=lazy src=/images/4b354dc0877026b90bbdd2f92ce109d6.webp alt=4b354dc0877026b90bbdd2f92ce109d6.webp></p><h2 id=参考>参考<a hidden class=anchor aria-hidden=true href=#参考>#</a></h2><ul><li><a href=https://while.work/vercel>https://while.work/vercel</a></li><li><a href=https://www.zhihu.com/question/342631132/answer/1844997654>https://www.zhihu.com/question/342631132/answer/1844997654</a></li><li><a href="https://www.notion.so/f917892e0b8c4dbeb1743620de57a0ec?pvs=21">作者项目 Notion 页面</a></li></ul><h2 id=相关阅读>相关阅读<a hidden class=anchor aria-hidden=true href=#相关阅读>#</a></h2><p><a href="https://www.notion.so/Google-Bing-Baidu-d14829241b244440ac45fe491e1422e9?pvs=21">Google/Bing/Baidu验证并收录网站。</a></p><p><a href="https://www.notion.so/Vercel-035a4345ebdc41a3ab9af3cba0a07fc9?pvs=21">Vercel 解决静态网站接口跨域</a></p><p><a href="https://www.notion.so/Cloudflare-Workers-c147f3c5879c4003b555210dd3481257?pvs=21">使用 Cloudflare Workers 加速图片访问</a></p><p><a href="https://www.notion.so/Vercel-Notion-34e02ef86bde494d84c63fd1025d75c9?pvs=21">Vercel + Notion 本地部署</a></p><p><a href="https://www.notion.so/nextjs-notion-starter-kit-sitemap-c88a1bc5dac646559998a1aaaf39e5f8?pvs=21">nextjs-notion-starter-kit 部署不成功，sitemap访问失败</a></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.printlove.cn/vercel-cross/><span class=title>« 上一页</span><br><span>Vercel 解决静态网站接口跨域</span></a>
<a class=next href=https://www.printlove.cn/golang-unit-test/><span class=title>下一页 »</span><br><span>Go基础系列：19. 单元测试</span></a></nav><div class=comment-head>评论 & Email：</div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Vercel + Notion 建个人博客 on x" href="https://x.com/intent/tweet/?text=@laomiao_ Vercel%20%2b%20Notion%20%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a2&amp;url=https%3a%2f%2fwww.printlove.cn%2fvercel-notion%2f&amp;hashtags="><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 50 50" fill="currentcolor"><path d="M5.9199219 6 20.582031 27.375 6.2304688 44H9.4101562L21.986328 29.421875 31.986328 44H44L28.681641 21.669922 42.199219 6H39.029297L27.275391 19.617188 17.933594 6H5.9199219zm3.796875 2H16.880859L40.203125 42H33.039062L9.7167969 8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Vercel + Notion 建个人博客 on email" href="mailto:mglluoye@gmail.com?subject=Vercel%20%2b%20Notion%20%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a2"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447 4.92893 2 7.28595 2 12 2c4.714.0 7.0711.0 8.5355 1.46447C22 4.92893 22 7.28595 22 12c0 4.714.0 7.0711-1.4645 8.5355C19.0711 22 16.714 22 12 22c-4.71405.0-7.07107.0-8.53553-1.4645C2 19.0711 2 16.714 2 12z" stroke="currentcolor" stroke-width="1.5"/><path d="M2 13H5.16026c.90517.0 1.35776.0 1.75558.183.39783.1829.69237.5266 1.28145 1.2138L8.80271 15.1032C9.39179 15.7904 9.68633 16.1341 10.0842 16.317 10.482 16.5 10.9346 16.5 11.8397 16.5H12.1603C13.0654 16.5 13.518 16.5 13.9158 16.317 14.3137 16.1341 14.6082 15.7904 15.1973 15.1032L15.8027 14.3968C16.3918 13.7096 16.6863 13.3659 17.0842 13.183 17.482 13 17.9346 13 18.8397 13H22" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7h8" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M10 10.5h4" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg></a></div></footer></article></main><footer class=footer><span>Content under license <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>