<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>使用了WSL2后，Docker 太慢，如何解决？ | PrintLove</title><meta name=keywords content="WSL2"><meta name=description content="docker开启了WSL2，运行时太慢、Vscode 配置 WSL"><meta name=author content="Evan Miao"><link rel=canonical href=https://www.printlove.cn/docker-wsl2/><link crossorigin=anonymous href=/assets/css/stylesheet.0f4d06feb7a00553d7b46603ca44aaca1dd036cd7082d6cecf39137242c0cb9e.css integrity="sha256-D00G/regBVPXtGYDykSqyh3QNs1wgtbOzzkTckLAy54=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.printlove.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.printlove.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.printlove.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://www.printlove.cn/apple-touch-icon.png><link rel=mask-icon href=https://www.printlove.cn/safari_pinned_tab.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4bddc7ae6f2203e19017f349bdcc79c2",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VE0D4BXTS2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VE0D4BXTS2",{anonymize_ip:!1})}</script><meta property="og:title" content="使用了WSL2后，Docker 太慢，如何解决？"><meta property="og:description" content="docker开启了WSL2，运行时太慢、Vscode 配置 WSL"><meta property="og:type" content="article"><meta property="og:url" content="https://www.printlove.cn/docker-wsl2/"><meta property="og:image" content="https://images.unsplash.com/photo-1595236754046-2da8684b47da?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxMDZ8fHNwZWVkfGVufDB8MHx8fDE3MDI5NjczNjR8MA&ixlib=rb-4.0.3&q=80&w=400"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-23T10:25:45+08:00"><meta property="article:modified_time" content="2021-07-23T10:25:45+08:00"><meta property="og:site_name" content="PrintLove"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1595236754046-2da8684b47da?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxMDZ8fHNwZWVkfGVufDB8MHx8fDE3MDI5NjczNjR8MA&ixlib=rb-4.0.3&q=80&w=400"><meta name=twitter:title content="使用了WSL2后，Docker 太慢，如何解决？"><meta name=twitter:description content="docker开启了WSL2，运行时太慢、Vscode 配置 WSL"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.printlove.cn/posts/"},{"@type":"ListItem","position":2,"name":"使用了WSL2后，Docker 太慢，如何解决？","item":"https://www.printlove.cn/docker-wsl2/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用了WSL2后，Docker 太慢，如何解决？","name":"使用了WSL2后，Docker 太慢，如何解决？","description":"docker开启了WSL2，运行时太慢、Vscode 配置 WSL","keywords":["WSL2"],"articleBody":"最近在 Win10 系统下使用 Docker 时发现有点慢，经过一番查访后，原来原因是 Docker 开启了 WSL2 的锅。对于好奇心这么强的我，关掉 WSL2 不是我能做出来，毕竟 WSL2 是新东西，要研究下具体怎么用。\n环境 Win10 系统 安装了 Ubuntu 子系统 是否开启 WSL2 打开 Docker 的设置, 查看截图中红色框的复选框是否选中，如果选中说明启用了 WSL2。\n什么是 WSL2 既然遇到了 WSL2 新概念，那它是什么？有什么优点？下来粗略的了解下。\n官话是这么说的，“WSL 2 使用最新、最强大的虚拟化技术在轻量级实用工具虚拟机 (VM) 中运行 Linux 内核。” 官网传送门\n我一句话概括，“在 Win10 系统下给装了个虚拟机，可以安装 Linux 系统”。\n1. 为什么慢 因为，你在 Win10 下的文件，在 Linux 环境下运行，文件进行跨系统了。\n所以，为了更快的性能，只要将文件移入 Linux 系统中，不出意外应该就快了。\n2. Win10 文件移入 Linux 当你 Win10 系统下，安装了 Ubuntu 后，可以在文件管理访问如下目录：\n\\\\wsl$\\Ubuntu 这个就是安装好的 Ubuntu 系统，下来只要将文件拖入你的家目录，我的家目录是 home/miaogaolin。拖入其它地方，是没有权限的（可能会有提高权限的方法，我没有研究）。\nUbuntu 中使用 Docker 在 Win10 系统下安装好了 Docker，在 Ubuntu 下就不需要安装了，只需要按照如下截图设置下，就可以在 Ubuntu 下使用 Docker 命令。\n注：设置后，重启。\n进入 Ubuntu 试试 Docker 命令。\n按照如图，运行 docker ps 命令，如果没有报错，那说明没有问题。下来你就可以在这个新地盘启动自己所有的服务了。\n那你有没有想过这么一问题，我换了新地盘，怎么直接在 Ubuntu 系统中开发我的项目，继续往下看。\nVscode 和 WSL2 这块我是用了 Vscode 编辑器写我的项目代码，如果是其它的编辑器的话，直接在此目录下\n\\\\wsl$\\Ubuntu 找到自己的项目并打开（具体我没有测试，不知道会遇到什么问题）。\n在 Vscode 编辑器中安装“连接 WSL2 的扩展”，这样直接可以在编辑器操作 Ubuntu 下的文件。\n安装完后重启，重启后按照如下图点击左下角，选择自己要打开的目录, 选择好等一会就好。了。\n下来看看我的弄好后是什么样子，你看着我的截图红色框对比下，自己是不是也好了。如果喜欢在 Linux 下工作，这也是个好办法。\n总结 本篇讲解了 WSL2 对速度的影响，并且提供了一个在 Win10 系统下在 Linux 环境下开发的方法。\n如果遇到不懂的，就在下方留言，不要客气！\n","wordCount":"123","inLanguage":"zh","image":"https://images.unsplash.com/photo-1595236754046-2da8684b47da?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxMDZ8fHNwZWVkfGVufDB8MHx8fDE3MDI5NjczNjR8MA\u0026ixlib=rb-4.0.3\u0026q=80\u0026w=400","datePublished":"2021-07-23T10:25:45+08:00","dateModified":"2021-07-23T10:25:45+08:00","author":[{"@type":"Person","name":"Evan Miao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.printlove.cn/docker-wsl2/"},"publisher":{"@type":"Organization","name":"PrintLove","logo":{"@type":"ImageObject","url":"https://www.printlove.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.printlove.cn/ accesskey=h title="PrintLove (Alt + H)">PrintLove</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.printlove.cn/archives title=文章><span>文章</span></a></li><li><a href=https://www.printlove.cn/series title=系列><span>系列</span></a></li><li><a href=https://www.printlove.cn/sponsor title=赞助><span>赞助</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>使用了WSL2后，Docker 太慢，如何解决？</h1><div class=post-meta><span title='2021-07-23 10:25:45 +0800 CST'>2021-07-23</span>&nbsp;·&nbsp;Evan Miao&nbsp;|&nbsp;<a href=https://github.com/miaogaolin/workspace-obisidian-publisher/tree/main/content/posts/%e4%bd%bf%e7%94%a8%e4%ba%86WSL2%e5%90%8e%ef%bc%8cDocker%20%e5%a4%aa%e6%85%a2%ef%bc%8c%e5%a6%82%e4%bd%95%e8%a7%a3%e5%86%b3.md rel="noopener noreferrer" target=_blank>指出问题</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#环境>环境</a></li><li><a href=#是否开启-wsl2>是否开启 WSL2</a></li><li><a href=#什么是-wsl2>什么是 WSL2</a><ul><li><a href=#1-为什么慢>1. 为什么慢</a></li><li><a href=#2-win10-文件移入-linux>2. Win10 文件移入 Linux</a></li></ul></li><li><a href=#ubuntu-中使用-docker>Ubuntu 中使用 Docker</a></li><li><a href=#vscode-和-wsl2>Vscode 和 WSL2</a></li><li><a href=#总结>总结</a></li></ul></nav></div></details></div><div class=post-content><p>最近在 Win10 系统下使用 Docker 时发现有点慢，经过一番查访后，原来原因是 Docker 开启了 <code>WSL2</code> 的锅。对于好奇心这么强的我，关掉 WSL2 不是我能做出来，毕竟 WSL2 是新东西，要研究下具体怎么用。</p><h2 id=环境>环境<a hidden class=anchor aria-hidden=true href=#环境>#</a></h2><ol><li>Win10 系统</li><li>安装了 Ubuntu 子系统</li></ol><h2 id=是否开启-wsl2>是否开启 WSL2<a hidden class=anchor aria-hidden=true href=#是否开启-wsl2>#</a></h2><p>打开 Docker 的设置, 查看截图中红色框的复选框是否选中，如果选中说明启用了 <code>WSL2</code>。<br><img loading=lazy src=/images/20231208111292.png alt=20231208111292.png></p><h2 id=什么是-wsl2>什么是 WSL2<a hidden class=anchor aria-hidden=true href=#什么是-wsl2>#</a></h2><p>既然遇到了 <code>WSL2</code> 新概念，那它是什么？有什么优点？下来粗略的了解下。</p><blockquote><p>官话是这么说的，“WSL 2 使用最新、最强大的虚拟化技术在轻量级实用工具虚拟机 (VM) 中运行 Linux 内核。” <a href=https://docs.microsoft.com/zh-cn/windows/wsl/compare-versions>官网传送门</a></p></blockquote><p>我一句话概括，<strong>“在 Win10 系统下给装了个虚拟机，可以安装 Linux 系统”</strong>。</p><h3 id=1-为什么慢>1. 为什么慢<a hidden class=anchor aria-hidden=true href=#1-为什么慢>#</a></h3><p>因为，你在 Win10 下的文件，在 Linux 环境下运行，<strong>文件进行跨系统了</strong>。</p><p>所以，为了更快的性能，只要将文件移入 Linux 系统中，不出意外应该就快了。</p><h3 id=2-win10-文件移入-linux>2. Win10 文件移入 Linux<a hidden class=anchor aria-hidden=true href=#2-win10-文件移入-linux>#</a></h3><p>当你 Win10 系统下，安装了 Ubuntu 后，可以在文件管理访问如下目录：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ae81ff>\\</span>wsl$<span style=color:#ae81ff>\U</span>buntu  
</span></span></code></pre></div><p><img loading=lazy src=/images/20231208111275no1.webp alt=20231208111275no1.webp></p><p>这个就是安装好的 Ubuntu 系统，下来只要将文件拖入你的家目录，我的家目录是 <code>home/miaogaolin</code>。拖入其它地方，是没有权限的（可能会有提高权限的方法，我没有研究）。</p><h2 id=ubuntu-中使用-docker>Ubuntu 中使用 Docker<a hidden class=anchor aria-hidden=true href=#ubuntu-中使用-docker>#</a></h2><p>在 Win10 系统下安装好了 Docker，在 Ubuntu 下就不需要安装了，只需要按照如下截图设置下，就可以在 Ubuntu 下使用 Docker 命令。<br><img loading=lazy src=/images/20231208111297.webp alt=20231208111297.webp></p><p>注：设置后，重启。</p><p>进入 Ubuntu 试试 Docker 命令。</p><p><img loading=lazy src=/images/20231208111225.png alt=20231208111225.png></p><p>按照如图，运行 <code>docker ps</code> 命令，如果没有报错，那说明没有问题。下来你就可以在这个新地盘启动自己所有的服务了。</p><p>那你有没有想过这么一问题，我换了新地盘，怎么直接在 Ubuntu 系统中开发我的项目，继续往下看。</p><h2 id=vscode-和-wsl2>Vscode 和 WSL2<a hidden class=anchor aria-hidden=true href=#vscode-和-wsl2>#</a></h2><p>这块我是用了 Vscode 编辑器写我的项目代码，如果是其它的编辑器的话，直接在此目录下<br><code>\\wsl$\Ubuntu</code> 找到自己的项目并打开（具体我没有测试，不知道会遇到什么问题）。</p><p>在 Vscode 编辑器中安装“连接 WSL2 的扩展”，这样直接可以在编辑器操作 Ubuntu 下的文件。</p><p><img loading=lazy src=/images/20231208111253.png alt=20231208111253.png><br>安装完后重启，重启后按照如下图点击左下角，选择自己要打开的目录, 选择好等一会就好。了。<br><img loading=lazy src=/images/20231208111247.webp alt=20231208111247.webp></p><p>下来看看我的弄好后是什么样子，你看着我的截图红色框对比下，自己是不是也好了。如果喜欢在 Linux 下工作，这也是个好办法。</p><p><img loading=lazy src=/images/20231208111223no1.webp alt=20231208111223no1.webp></p><h2 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p>本篇讲解了 WSL2 对速度的影响，并且提供了一个在 Win10 系统下在 Linux 环境下开发的方法。</p><p>如果遇到不懂的，就在下方留言，不要客气！</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.printlove.cn/henan-flood/><span class=title>« 上一页</span><br><span>BBC如何报道河南洪灾？</span></a>
<a class=next href=https://www.printlove.cn/docker-speed/><span class=title>下一页 »</span><br><span>简单且真实有效的Docker镜像加速</span></a></nav><div class=comment-head>评论 & Email：</div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 使用了WSL2后，Docker 太慢，如何解决？ on x" href="https://x.com/intent/tweet/?text=@laomiao_ %e4%bd%bf%e7%94%a8%e4%ba%86WSL2%e5%90%8e%ef%bc%8cDocker%20%e5%a4%aa%e6%85%a2%ef%bc%8c%e5%a6%82%e4%bd%95%e8%a7%a3%e5%86%b3%ef%bc%9f&amp;url=https%3a%2f%2fwww.printlove.cn%2fdocker-wsl2%2f&amp;hashtags="><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 50 50" fill="currentcolor"><path d="M5.9199219 6 20.582031 27.375 6.2304688 44H9.4101562L21.986328 29.421875 31.986328 44H44L28.681641 21.669922 42.199219 6H39.029297L27.275391 19.617188 17.933594 6H5.9199219zm3.796875 2H16.880859L40.203125 42H33.039062L9.7167969 8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 使用了WSL2后，Docker 太慢，如何解决？ on email" href="mailto:mglluoye@gmail.com?subject=%e4%bd%bf%e7%94%a8%e4%ba%86WSL2%e5%90%8e%ef%bc%8cDocker%20%e5%a4%aa%e6%85%a2%ef%bc%8c%e5%a6%82%e4%bd%95%e8%a7%a3%e5%86%b3%ef%bc%9f"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447 4.92893 2 7.28595 2 12 2c4.714.0 7.0711.0 8.5355 1.46447C22 4.92893 22 7.28595 22 12c0 4.714.0 7.0711-1.4645 8.5355C19.0711 22 16.714 22 12 22c-4.71405.0-7.07107.0-8.53553-1.4645C2 19.0711 2 16.714 2 12z" stroke="currentcolor" stroke-width="1.5"/><path d="M2 13H5.16026c.90517.0 1.35776.0 1.75558.183.39783.1829.69237.5266 1.28145 1.2138L8.80271 15.1032C9.39179 15.7904 9.68633 16.1341 10.0842 16.317 10.482 16.5 10.9346 16.5 11.8397 16.5H12.1603C13.0654 16.5 13.518 16.5 13.9158 16.317 14.3137 16.1341 14.6082 15.7904 15.1973 15.1032L15.8027 14.3968C16.3918 13.7096 16.6863 13.3659 17.0842 13.183 17.482 13 17.9346 13 18.8397 13H22" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7h8" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M10 10.5h4" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg></a></div></footer></article></main><footer class=footer><span>Content under license <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>