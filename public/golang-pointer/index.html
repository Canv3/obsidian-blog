<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Go基础系列：14. 指针类型 | PrintLove</title><meta name=keywords content="Go,指针"><meta name=description content="什么是指针？什么什么是指针类型？如何使用和创建指针类型变量？如何从指针变量中取值？如何传递指针？"><meta name=author content="Evan Miao"><link rel=canonical href=https://www.gby.ai/golang-pointer/><link crossorigin=anonymous href=/assets/css/stylesheet.0f4d06feb7a00553d7b46603ca44aaca1dd036cd7082d6cecf39137242c0cb9e.css integrity="sha256-D00G/regBVPXtGYDykSqyh3QNs1wgtbOzzkTckLAy54=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.gby.ai/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.gby.ai/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.gby.ai/favicon-32x32.png><link rel=apple-touch-icon href=https://www.gby.ai/apple-touch-icon.png><link rel=mask-icon href=https://www.gby.ai/safari_pinned_tab.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4bddc7ae6f2203e19017f349bdcc79c2",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VE0D4BXTS2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VE0D4BXTS2",{anonymize_ip:!1})}</script><meta property="og:title" content="Go基础系列：14. 指针类型"><meta property="og:description" content="什么是指针？什么什么是指针类型？如何使用和创建指针类型变量？如何从指针变量中取值？如何传递指针？"><meta property="og:type" content="article"><meta property="og:url" content="https://www.gby.ai/golang-pointer/"><meta property="og:image" content="https://images.unsplash.com/photo-1580798578659-70150082132a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHw3Mnx8cG9pbnR8ZW58MHwwfHx8MTcwMzE0MDMwMnww&ixlib=rb-4.0.3&q=80&w=400"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-09-15T18:24:56+08:00"><meta property="article:modified_time" content="2021-09-15T18:24:56+08:00"><meta property="og:site_name" content="PrintLove"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1580798578659-70150082132a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHw3Mnx8cG9pbnR8ZW58MHwwfHx8MTcwMzE0MDMwMnww&ixlib=rb-4.0.3&q=80&w=400"><meta name=twitter:title content="Go基础系列：14. 指针类型"><meta name=twitter:description content="什么是指针？什么什么是指针类型？如何使用和创建指针类型变量？如何从指针变量中取值？如何传递指针？"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.gby.ai/posts/"},{"@type":"ListItem","position":2,"name":"Go基础系列：14. 指针类型","item":"https://www.gby.ai/golang-pointer/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Go基础系列：14. 指针类型","name":"Go基础系列：14. 指针类型","description":"什么是指针？什么什么是指针类型？如何使用和创建指针类型变量？如何从指针变量中取值？如何传递指针？","keywords":["Go","指针"],"articleBody":"学到什么 什么是指针？ 什么是指针类型？ 如何使用和创建指针类型变量？ 如何从指针变量中取值？ 如何传递指针？ 什么是指针 先了解什么是内存地址？说通俗点就是电脑上数据存储位置的编号，就好比我们的身份证号一样。\n指针也就是所说的内存地址，内存地址保存在指针变量里。\n图解：图中左半部分是一个字符串数据，右半部分是指针变量，该指针变量存储了字符串数据的地址，图中的地址纯属虚构。\n指针类型 指针类型是在任意类型前增加星号，格式如下：\n*BaseType BaseType 代表任意类型。\n例：\n*int 表示 int 类型变量的指针类型。 *string 表示 string 类型变量的指针类型。 type People struct { Name string Age int } *People 表示 People 类型变量的指针类型。 如何创建指针变量 现在创建一个 *int 指针类型的变量，格式如下：\nvar p *int p 是一个指针类型的变量，该变量还未初始化，现在给该变量初始化。\nvar num int = 11 p = \u0026num 使用 \u0026 符号获取变量 num 的地址并赋值给指针变量 p。\n输出指针变量信息，如下：\nfmt.Println(p) // 输出 0xc00000a088 0x 开头说明是十六进制，该十六进制就是变量 num 的内存地址。\n空指针 空指针表示指针变量没有任何赋值，此时空指针变量等于 nil 。\nvar empty *int fmt.Println(empty == nil) // 输出 true nil 类似其它语言中的 null ，在 Go 语言中只能和指针类型、接口类型进行比较，也只能给指针类型变量和接口类型变量赋值。\n指针取值 声明了一个指针变量后，如果想从指针变量中取值那该如何做，指针的取值常常被称作解引用，格式如下：\nvar num int = 11 var p *int p = \u0026num // 取值 fmt.Println(*p) // 输出 11 *p 表示从指针指向的变量 num 中取出值，取值时在指针变量前增加一个 * 符号。\n如果指针变量是空指针，再从中取值时，编译器会报错。\npanic: runtime error: invalid memory address or nil pointer dereference 结构体 如果指针变量是结构体指针类型时，获取结构体中的字段或调用方法时，无需在指针变量前增加 * 。\np := \u0026People{ Name: \"老苗\", Age: 18, } fmt.Pringln(p) fmt.Println(p.Name) 或 fmt.Println((*p).Name) // 输出 \u0026{老苗 18} 老苗 总结：\n结构体指针输出的不是地址 调用结构体的字段或方法时无需添加 * 方法 在上篇文章中已经接触到了指针接收者的概念，这块简单说明一下，详细的请看看 《自定义类型和结构体 - 方法》。\n如果通过方法想修改结构体中的字段时，可以将接收者设置为指针类型。\n// type/struct.go // ... func (p *People) SetName(name string) { p.Name = name } func main() { people := People{ Name: \"老苗\", } people.SetName(\"潇洒哥\") fmt.Println(people.Name) } // 输出 潇洒哥 SetName 方法的接收者 p 为指针类型，修改了 Name 字段，people 变量的数据也随之更改。\n指针传递 在 Go 语言中大部分的类型都是值传递，也就是说通过函数传值时，函数内的修改是不能影响外部的，如果想更改就使用指针类型。\n// pointer/function.go // ... func UpdateNum(num *int) { *num = 2 } func main() { n := 1 UpdateNum(\u0026n) fmt.Println(n) } // 输出 2 UpdateNum 函数接受一个 *int 指针类型，形参 num 指针类型指向了实参变量 n ，因此对 num 的修改影响了变量 n 的值。\n对于 Go 语言中的个别类型本身就是引用类型，不需要使用指针就可以在函数内部修改值而影响外部。\n1. map 和 通道 这两个是引用类型，在传递时无需使用指针，通道在后续文章举例讲解。\n// pointer/map.go // ... func SetCountry(countries map[string]string) { countries[\"china\"] = \"中国\" } func main() { c := make(map[string]string) SetCountry(c) fmt.Println(c) } // 输出 map[china:中国] 该代码初始化了一个 map 类型，然后通过 SetCountry 函数修改其值。\n2. 切片 在了解 《内置集合 - 切片》 这篇文章后应该明白切片的底层引用的是数组，在切片传递时不会改变底层数组的引用，但如果对切片进行追加操作后，数组引用就会改变。\n// pointer/slice.go //... func AppendAnimals(animals []string) { animals = append(animals, \"老虎\", \"大象\") } func main() { input := []string{\"猴子\"} AppendAnimals(input) fmt.Println(input) } // 输出 [猴子] AppendAnimals 函数给切片追加元素，但外部的变量 input 的值不受影响，因为 append 操作后底层数组会进行拷贝并改变引用。\n如果在函数内想影响 input 变量，就使用指针解决。\n// pointer/slice.go //... func AppendAnimalsPointer(animals *[]string) { *animals = append(*animals, \"老虎\", \"大象\") } func main() { input := []string{\"猴子\"} AppendAnimalsPointer(\u0026input) fmt.Println(input) } // 输出 [猴子 老虎 大象] 在传递切片时如果只修改切片内容，即不追加元素，原切片数据将会受到影响，因为底层数组的引用没有改变。\n// pointer/slice.go //... func UpdateAnimals(animals []string) { for i := range animals { animals[i] = \"兔子\" } } func main() { updateInput := []string{\"老虎\", \"大象\"} UpdateAnimals(updateInput) fmt.Println(updateInput) } // 输出 [兔子 兔子] UpdateAnimals 函数修改了切片内容，通过输出可以看出 updateInput 变量数据已改变。\n总结 指针可以节省复制的开销，但同时要考虑解引用和垃圾回收带来的影响，所以不要把使用指针作为性能优化的首选方案。\n","wordCount":"375","inLanguage":"zh","image":"https://images.unsplash.com/photo-1580798578659-70150082132a?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHw3Mnx8cG9pbnR8ZW58MHwwfHx8MTcwMzE0MDMwMnww\u0026ixlib=rb-4.0.3\u0026q=80\u0026w=400","datePublished":"2021-09-15T18:24:56+08:00","dateModified":"2021-09-15T18:24:56+08:00","author":[{"@type":"Person","name":"Evan Miao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.gby.ai/golang-pointer/"},"publisher":{"@type":"Organization","name":"PrintLove","logo":{"@type":"ImageObject","url":"https://www.gby.ai/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.gby.ai/ accesskey=h title="PrintLove (Alt + H)">PrintLove</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.gby.ai/archives title=文章><span>文章</span></a></li><li><a href=https://www.gby.ai/series title=系列><span>系列</span></a></li><li><a href=https://www.gby.ai/sponsor title=赞助><span>赞助</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Go基础系列：14. 指针类型</h1><div class=post-meta><span title='2021-09-15 18:24:56 +0800 CST'>2021-09-15</span>&nbsp;·&nbsp;Evan Miao&nbsp;|&nbsp;<a href=https://github.com/miaogaolin/workspace-obisidian-publisher/tree/main/content/posts/Go%e5%9f%ba%e7%a1%80%e7%b3%bb%e5%88%97%ef%bc%9a14.%20%e6%8c%87%e9%92%88%e7%b1%bb%e5%9e%8b.md rel="noopener noreferrer" target=_blank>指出问题</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#学到什么>学到什么</a></li><li><a href=#什么是指针>什么是指针</a></li><li><a href=#指针类型>指针类型</a></li><li><a href=#如何创建指针变量>如何创建指针变量</a></li><li><a href=#空指针>空指针</a></li><li><a href=#指针取值>指针取值</a><ul><li><a href=#结构体>结构体</a></li><li><a href=#方法>方法</a></li></ul></li><li><a href=#指针传递>指针传递</a><ul><li><a href=#1-map-和-通道>1. map 和 通道</a></li><li><a href=#2-切片>2. 切片</a></li></ul></li><li><a href=#总结>总结</a></li></ul></nav></div></details></div><div class=post-content><h2 id=学到什么>学到什么<a hidden class=anchor aria-hidden=true href=#学到什么>#</a></h2><ol><li>什么是指针？</li><li>什么是指针类型？</li><li>如何使用和创建指针类型变量？</li><li>如何从指针变量中取值？</li><li>如何传递指针？</li></ol><h2 id=什么是指针>什么是指针<a hidden class=anchor aria-hidden=true href=#什么是指针>#</a></h2><p>先了解什么是内存地址？说通俗点就是电脑上数据存储位置的编号，就好比我们的身份证号一样。</p><p>指针也就是所说的内存地址，内存地址保存在指针变量里。</p><p><img loading=lazy src=/images/20231207161249.webp alt=20231207161249.webp></p><p>图解：图中左半部分是一个字符串数据，右半部分是指针变量，该指针变量存储了字符串数据的地址，图中的地址纯属虚构。</p><h2 id=指针类型>指针类型<a hidden class=anchor aria-hidden=true href=#指针类型>#</a></h2><p>指针类型是在任意类型前增加星号，格式如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>*</span><span style=color:#a6e22e>BaseType</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>BaseType 代表任意类型。</p><p>例：</p><ul><li><code>*int</code> 表示 <code>int</code> 类型变量的指针类型。</li><li><code>*string</code> 表示 <code>string</code> 类型变量的指针类型。</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>People</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Age</span>  <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><ul><li><code>*People</code> 表示 <code>People</code> 类型变量的指针类型。</li></ul><h2 id=如何创建指针变量>如何创建指针变量<a hidden class=anchor aria-hidden=true href=#如何创建指针变量>#</a></h2><p>现在创建一个 <code>*int</code> 指针类型的变量，格式如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p><code>p</code> 是一个指针类型的变量，该变量还未初始化，现在给该变量初始化。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>num</span> <span style=color:#66d9ef>int</span> =  <span style=color:#ae81ff>11</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>p</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>num</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>使用 <code>&</code> 符号获取变量 <code>num</code> 的地址并赋值给指针变量 <code>p</code>。</p><p>输出指针变量信息，如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>p</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#ae81ff>0xc00000a088</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p><code>0x</code> 开头说明是十六进制，该十六进制就是变量 <code>num</code> 的内存地址。</p><h2 id=空指针>空指针<a hidden class=anchor aria-hidden=true href=#空指针>#</a></h2><p>空指针表示指针变量没有任何赋值，此时空指针变量等于 <code>nil</code> 。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>empty</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>empty</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span>) 
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><blockquote><p><code>nil</code> 类似其它语言中的 <code>null</code> ，在 Go 语言中只能和指针类型、接口类型进行比较，也只能给指针类型变量和接口类型变量赋值。</p></blockquote><h2 id=指针取值>指针取值<a hidden class=anchor aria-hidden=true href=#指针取值>#</a></h2><p>声明了一个指针变量后，如果想从指针变量中取值那该如何做，指针的取值常常被称作<strong>解引用</strong>，格式如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>num</span> <span style=color:#66d9ef>int</span> =  <span style=color:#ae81ff>11</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>p</span> = <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>num</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 取值
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>p</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#ae81ff>11</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p><code>*p</code> 表示从指针指向的变量 <code>num</code> 中取出值，取值时在指针变量前增加一个 <code>*</code> 符号。</p><p>如果指针变量是空指针，再从中取值时，编译器会报错。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>panic</span>: <span style=color:#a6e22e>runtime</span> <span style=color:#66d9ef>error</span>: <span style=color:#a6e22e>invalid</span> <span style=color:#a6e22e>memory</span> <span style=color:#a6e22e>address</span> <span style=color:#a6e22e>or</span> <span style=color:#66d9ef>nil</span> <span style=color:#a6e22e>pointer</span> <span style=color:#a6e22e>dereference</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h3 id=结构体>结构体<a hidden class=anchor aria-hidden=true href=#结构体>#</a></h3><p>如果指针变量是结构体指针类型时，获取结构体中的字段或调用方法时，无需在指针变量前增加 <code>*</code> 。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>People</span>{
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;老苗&#34;</span>,
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Age</span>:  <span style=color:#ae81ff>18</span>,
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Pringln</span>(<span style=color:#a6e22e>p</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Name</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>或</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>((<span style=color:#f92672>*</span><span style=color:#a6e22e>p</span>).<span style=color:#a6e22e>Name</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#f92672>&amp;</span>{<span style=color:#960050;background-color:#1e0010>老苗</span> <span style=color:#ae81ff>18</span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>老苗</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>总结：</p><ul><li>结构体指针输出的不是地址</li><li>调用结构体的字段或方法时无需添加 <code>*</code></li></ul><h3 id=方法>方法<a hidden class=anchor aria-hidden=true href=#方法>#</a></h3><p>在上篇文章中已经接触到了指针接收者的概念，这块简单说明一下，详细的请看看 <a href=/golang-method/>《自定义类型和结构体 - 方法》</a>。</p><p>如果通过方法想修改结构体中的字段时，可以将接收者设置为指针类型。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// type/struct.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>p</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>People</span>) <span style=color:#a6e22e>SetName</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Name</span> = <span style=color:#a6e22e>name</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>people</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>People</span>{
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;老苗&#34;</span>,
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>people</span>.<span style=color:#a6e22e>SetName</span>(<span style=color:#e6db74>&#34;潇洒哥&#34;</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>people</span>.<span style=color:#a6e22e>Name</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>潇洒哥</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p><code>SetName</code> 方法的接收者 <code>p</code> 为指针类型，修改了 <code>Name</code> 字段，<code>people</code> 变量的数据也随之更改。</p><h2 id=指针传递>指针传递<a hidden class=anchor aria-hidden=true href=#指针传递>#</a></h2><p>在 Go 语言中大部分的类型都是值传递，也就是说通过函数传值时，函数内的修改是不能影响外部的，如果想更改就使用指针类型。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// pointer/function.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>UpdateNum</span>(<span style=color:#a6e22e>num</span> <span style=color:#f92672>*</span><span style=color:#66d9ef>int</span>) {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#f92672>*</span><span style=color:#a6e22e>num</span> = <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>n</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>UpdateNum</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>n</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p><code>UpdateNum</code> 函数接受一个 <code>*int</code> 指针类型，形参 <code>num</code> 指针类型指向了实参变量 <code>n</code> ，因此对 <code>num</code> 的修改影响了变量 <code>n</code> 的值。</p><p>对于 Go 语言中的个别类型本身就是引用类型，不需要使用指针就可以在函数内部修改值而影响外部。</p><h3 id=1-map-和-通道>1. map 和 通道<a hidden class=anchor aria-hidden=true href=#1-map-和-通道>#</a></h3><p>这两个是引用类型，在传递时无需使用指针，通道在后续文章举例讲解。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// pointer/map.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>SetCountry</span>(<span style=color:#a6e22e>countries</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>countries</span>[<span style=color:#e6db74>&#34;china&#34;</span>] = <span style=color:#e6db74>&#34;中国&#34;</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>SetCountry</span>(<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>map</span>[<span style=color:#a6e22e>china</span>:<span style=color:#960050;background-color:#1e0010>中国</span>]
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>该代码初始化了一个 <code>map</code> 类型，然后通过 <code>SetCountry</code> 函数修改其值。</p><h3 id=2-切片>2. 切片<a hidden class=anchor aria-hidden=true href=#2-切片>#</a></h3><p>在了解 <a href=/golang-slice/>《内置集合 - 切片》</a> 这篇文章后应该明白切片的底层引用的是数组，在切片传递时不会改变底层数组的引用，但如果对切片进行追加操作后，数组引用就会改变。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// pointer/slice.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>AppendAnimals</span>(<span style=color:#a6e22e>animals</span> []<span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>animals</span> = append(<span style=color:#a6e22e>animals</span>, <span style=color:#e6db74>&#34;老虎&#34;</span>, <span style=color:#e6db74>&#34;大象&#34;</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>input</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;猴子&#34;</span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>AppendAnimals</span>(<span style=color:#a6e22e>input</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>input</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>[<span style=color:#960050;background-color:#1e0010>猴子</span>]
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p><code>AppendAnimals</code> 函数给切片追加元素，但外部的变量 <code>input</code> 的值不受影响，因为 <code>append</code> 操作后底层数组会进行拷贝并改变引用。</p><p>如果在函数内想影响 <code>input</code> 变量，就使用指针解决。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// pointer/slice.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>AppendAnimalsPointer</span>(<span style=color:#a6e22e>animals</span> <span style=color:#f92672>*</span>[]<span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#f92672>*</span><span style=color:#a6e22e>animals</span> = append(<span style=color:#f92672>*</span><span style=color:#a6e22e>animals</span>, <span style=color:#e6db74>&#34;老虎&#34;</span>, <span style=color:#e6db74>&#34;大象&#34;</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>input</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;猴子&#34;</span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>AppendAnimalsPointer</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>input</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>input</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>[<span style=color:#960050;background-color:#1e0010>猴子</span> <span style=color:#960050;background-color:#1e0010>老虎</span> <span style=color:#960050;background-color:#1e0010>大象</span>]
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p>在传递切片时如果只修改切片内容，即不追加元素，原切片数据将会受到影响，因为底层数组的引用没有改变。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// pointer/slice.go
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span><span style=color:#75715e>//...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>UpdateAnimals</span>(<span style=color:#a6e22e>animals</span> []<span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>animals</span> {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>animals</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#e6db74>&#34;兔子&#34;</span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>updateInput</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;老虎&#34;</span>, <span style=color:#e6db74>&#34;大象&#34;</span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>UpdateAnimals</span>(<span style=color:#a6e22e>updateInput</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>updateInput</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#75715e>// 输出
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  
</span></span><span style=display:flex><span>[<span style=color:#960050;background-color:#1e0010>兔子</span> <span style=color:#960050;background-color:#1e0010>兔子</span>]
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><p><code>UpdateAnimals</code> 函数修改了切片内容，通过输出可以看出 <code>updateInput</code> 变量数据已改变。</p><h2 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p>指针可以节省复制的开销，但同时要考虑解引用和垃圾回收带来的影响，所以不要把使用指针作为性能优化的首选方案。</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.gby.ai/golang-interface/><span class=title>« 上一页</span><br><span>Go基础系列：15. 接口</span></a>
<a class=next href=https://www.gby.ai/golang-method/><span class=title>下一页 »</span><br><span>Go基础系列：13. 自定义类型和结构体 - 方法</span></a></nav><div class=comment-head>评论 & Email：</div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Go基础系列：14. 指针类型 on x" href="https://x.com/intent/tweet/?text=@laomiao_ Go%e5%9f%ba%e7%a1%80%e7%b3%bb%e5%88%97%ef%bc%9a14.%20%e6%8c%87%e9%92%88%e7%b1%bb%e5%9e%8b&amp;url=https%3a%2f%2fwww.gby.ai%2fgolang-pointer%2f&amp;hashtags="><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 50 50" fill="currentcolor"><path d="M5.9199219 6 20.582031 27.375 6.2304688 44H9.4101562L21.986328 29.421875 31.986328 44H44L28.681641 21.669922 42.199219 6H39.029297L27.275391 19.617188 17.933594 6H5.9199219zm3.796875 2H16.880859L40.203125 42H33.039062L9.7167969 8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Go基础系列：14. 指针类型 on email" href="mailto:mglluoye@gmail.com?subject=Go%e5%9f%ba%e7%a1%80%e7%b3%bb%e5%88%97%ef%bc%9a14.%20%e6%8c%87%e9%92%88%e7%b1%bb%e5%9e%8b"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447 4.92893 2 7.28595 2 12 2c4.714.0 7.0711.0 8.5355 1.46447C22 4.92893 22 7.28595 22 12c0 4.714.0 7.0711-1.4645 8.5355C19.0711 22 16.714 22 12 22c-4.71405.0-7.07107.0-8.53553-1.4645C2 19.0711 2 16.714 2 12z" stroke="currentcolor" stroke-width="1.5"/><path d="M2 13H5.16026c.90517.0 1.35776.0 1.75558.183.39783.1829.69237.5266 1.28145 1.2138L8.80271 15.1032C9.39179 15.7904 9.68633 16.1341 10.0842 16.317 10.482 16.5 10.9346 16.5 11.8397 16.5H12.1603C13.0654 16.5 13.518 16.5 13.9158 16.317 14.3137 16.1341 14.6082 15.7904 15.1973 15.1032L15.8027 14.3968C16.3918 13.7096 16.6863 13.3659 17.0842 13.183 17.482 13 17.9346 13 18.8397 13H22" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7h8" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M10 10.5h4" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg></a></div></footer></article></main><footer class=footer><span>Content under license <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>