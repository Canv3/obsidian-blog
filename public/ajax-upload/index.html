<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ajax简单实现文件异步上传的多种方法 | PrintLove</title><meta name=keywords content><meta name=description content="1. 认识 FormData 对象 FormData 是 Html5 新加进来的一个类,可以模拟表单数据
构造函数 解释 FormData (optional HTMLFormElement form) (可选) 一个 HTML 表单元素,可以包含任何形式的表单控件,包括文件输入框. 方法 void append(DOMString name, DOMString value)
name 表单元素名称 value 表单元素要传递的值 <form name=&#34;myForm&#34; enctype=&#34;multipart/form-data&#34;> <input type=&#34;text&#34; name=&#34;userName&#34;> <input type=&#34;file&#34; name=&#34;img&#34;> <input type=&#34;button&#34; id=&#34;btn&#34; value=&#34;submit&#34;> </form> 2. 使用 javascript 简单实现 function upload() { var userName = document.myForm.userName.value; var img = document.myForm.img.files[0]; var fm = new FormData(); fm.append('userName', userName); fm.append('img', img); var request = new XMLHttpRequest(); request."><meta name=author content="Evan Miao"><link rel=canonical href=https://www.jianshu.com/p/d90d2e6bb0d5><link crossorigin=anonymous href=/assets/css/stylesheet.0f4d06feb7a00553d7b46603ca44aaca1dd036cd7082d6cecf39137242c0cb9e.css integrity="sha256-D00G/regBVPXtGYDykSqyh3QNs1wgtbOzzkTckLAy54=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.printlove.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.printlove.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.printlove.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://www.printlove.cn/apple-touch-icon.png><link rel=mask-icon href=https://www.printlove.cn/safari_pinned_tab.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4bddc7ae6f2203e19017f349bdcc79c2",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VE0D4BXTS2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VE0D4BXTS2",{anonymize_ip:!1})}</script><meta property="og:title" content="Ajax简单实现文件异步上传的多种方法"><meta property="og:description" content="1. 认识 FormData 对象 FormData 是 Html5 新加进来的一个类,可以模拟表单数据
构造函数 解释 FormData (optional HTMLFormElement form) (可选) 一个 HTML 表单元素,可以包含任何形式的表单控件,包括文件输入框. 方法 void append(DOMString name, DOMString value)
name 表单元素名称 value 表单元素要传递的值 <form name=&#34;myForm&#34; enctype=&#34;multipart/form-data&#34;> <input type=&#34;text&#34; name=&#34;userName&#34;> <input type=&#34;file&#34; name=&#34;img&#34;> <input type=&#34;button&#34; id=&#34;btn&#34; value=&#34;submit&#34;> </form> 2. 使用 javascript 简单实现 function upload() { var userName = document.myForm.userName.value; var img = document.myForm.img.files[0]; var fm = new FormData(); fm.append('userName', userName); fm.append('img', img); var request = new XMLHttpRequest(); request."><meta property="og:type" content="article"><meta property="og:url" content="https://www.printlove.cn/ajax-upload/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-05-31T19:33:05+08:00"><meta property="article:modified_time" content="2016-05-31T19:33:05+08:00"><meta property="og:site_name" content="PrintLove"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ajax简单实现文件异步上传的多种方法"><meta name=twitter:description content="1. 认识 FormData 对象 FormData 是 Html5 新加进来的一个类,可以模拟表单数据
构造函数 解释 FormData (optional HTMLFormElement form) (可选) 一个 HTML 表单元素,可以包含任何形式的表单控件,包括文件输入框. 方法 void append(DOMString name, DOMString value)
name 表单元素名称 value 表单元素要传递的值 <form name=&#34;myForm&#34; enctype=&#34;multipart/form-data&#34;> <input type=&#34;text&#34; name=&#34;userName&#34;> <input type=&#34;file&#34; name=&#34;img&#34;> <input type=&#34;button&#34; id=&#34;btn&#34; value=&#34;submit&#34;> </form> 2. 使用 javascript 简单实现 function upload() { var userName = document.myForm.userName.value; var img = document.myForm.img.files[0]; var fm = new FormData(); fm.append('userName', userName); fm.append('img', img); var request = new XMLHttpRequest(); request."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.printlove.cn/posts/"},{"@type":"ListItem","position":2,"name":"Ajax简单实现文件异步上传的多种方法","item":"https://www.printlove.cn/ajax-upload/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Ajax简单实现文件异步上传的多种方法","name":"Ajax简单实现文件异步上传的多种方法","description":"1. 认识 FormData 对象 FormData 是 Html5 新加进来的一个类,可以模拟表单数据\n构造函数 解释 FormData (optional HTMLFormElement form) (可选) 一个 HTML 表单元素,可以包含任何形式的表单控件,包括文件输入框. 方法 void append(DOMString name, DOMString value)\nname 表单元素名称 value 表单元素要传递的值 \u0026lt;form name=\u0026#34;myForm\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;userName\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;file\u0026#34; name=\u0026#34;img\u0026#34;\u0026gt; \u0026lt;input type=\u0026#34;button\u0026#34; id=\u0026#34;btn\u0026#34; value=\u0026#34;submit\u0026#34;\u0026gt; \u0026lt;/form\u0026gt; 2. 使用 javascript 简单实现 function upload() { var userName = document.myForm.userName.value; var img = document.myForm.img.files[0]; var fm = new FormData(); fm.append(\u0026#39;userName\u0026#39;, userName); fm.append(\u0026#39;img\u0026#39;, img); var request = new XMLHttpRequest(); request.","keywords":[],"articleBody":"1. 认识 FormData 对象 FormData 是 Html5 新加进来的一个类,可以模拟表单数据\n构造函数 解释 FormData (optional HTMLFormElement form) (可选) 一个 HTML 表单元素,可以包含任何形式的表单控件,包括文件输入框. 方法 void append(DOMString name, DOMString value)\nname 表单元素名称 value 表单元素要传递的值 \u003cform name=\"myForm\" enctype=\"multipart/form-data\"\u003e \u003cinput type=\"text\" name=\"userName\"\u003e \u003cinput type=\"file\" name=\"img\"\u003e \u003cinput type=\"button\" id=\"btn\" value=\"submit\"\u003e \u003c/form\u003e 2. 使用 javascript 简单实现 function upload() { var userName = document.myForm.userName.value; var img = document.myForm.img.files[0]; var fm = new FormData(); fm.append('userName', userName); fm.append('img', img); var request = new XMLHttpRequest(); request.open('POST', 'submitform.php'); request.send(fm); } 3. 使用 Ajax 实现 $('#btn').click(function () { var userName = document.myForm.userName.value; var img = document.myForm.img.files[0]; var fm = new FormData(); fm.append('userName', userName); fm.append('img', img); $.ajax( { url: 'submitform.php', type: 'POST', data: fm, contentType: false, //禁止设置请求类型 processData: false, //禁止jquery对DAta数据的处理,默认会处理 //禁止的原因是,FormData已经帮我们做了处理 success: function (result) { //测试是否成功 //但需要你后端有返回值 alert(result); } } ); }); 4. ajaxfileupload.js 插件实现 Ajax 文件上传 function upload(){ $.ajaxFileUpload({ url: 'a.php', //用于文件上传的服务器端请求地址 secureuri: false, //一般设置为false fileElementId: 'file', //文件上传空间的id属性 dataType: 'HTML', //返回值类型 一般设置为json success: function (data, status) //服务器成功响应处理函数 { $(\"#img1\").attr(\"src\", data); addI(data); }, error: function (data, status, e)//服务器响应失败处理函数 { alert(e); } } ); } 对于 PHP 就可以使用 Files 全局数组拿到文件属性,POST 全局数组拿到 userName 的值\n","wordCount":"175","inLanguage":"zh","datePublished":"2016-05-31T19:33:05+08:00","dateModified":"2016-05-31T19:33:05+08:00","author":[{"@type":"Person","name":"Evan Miao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.printlove.cn/ajax-upload/"},"publisher":{"@type":"Organization","name":"PrintLove","logo":{"@type":"ImageObject","url":"https://www.printlove.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.printlove.cn/ accesskey=h title="PrintLove (Alt + H)">PrintLove</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.printlove.cn/archives title=文章><span>文章</span></a></li><li><a href=https://www.printlove.cn/series title=系列><span>系列</span></a></li><li><a href=https://www.printlove.cn/sponsor title=赞助><span>赞助</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Ajax简单实现文件异步上传的多种方法</h1><div class=post-meta><span title='2016-05-31 19:33:05 +0800 CST'>2016-05-31</span>&nbsp;·&nbsp;Evan Miao&nbsp;|&nbsp;<a href=https://github.com/miaogaolin/workspace-obisidian-publisher/tree/main/content/posts/Ajax%e7%ae%80%e5%8d%95%e5%ae%9e%e7%8e%b0%e6%96%87%e4%bb%b6%e5%bc%82%e6%ad%a5%e4%b8%8a%e4%bc%a0%e7%9a%84%e5%a4%9a%e7%a7%8d%e6%96%b9%e6%b3%95.md rel="noopener noreferrer" target=_blank>指出问题</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#1-认识-formdata-对象>1. 认识 FormData 对象</a><ul><li><a href=#方法>方法</a></li></ul></li><li><a href=#2-使用-javascript-简单实现>2. 使用 javascript 简单实现</a></li><li><a href=#3--使用-ajax-实现>3. 使用 Ajax 实现</a></li><li><a href=#4-ajaxfileuploadjs-插件实现-ajax-文件上传>4. ajaxfileupload.js 插件实现 Ajax 文件上传</a></li></ul></nav></div></details></div><div class=post-content><h2 id=1-认识-formdata-对象>1. 认识 FormData 对象<a hidden class=anchor aria-hidden=true href=#1-认识-formdata-对象>#</a></h2><p>FormData 是 Html5 新加进来的一个类,可以模拟表单数据</p><table><thead><tr><th>构造函数</th><th>解释</th></tr></thead><tbody><tr><td>FormData (optional HTMLFormElement form)</td><td>(可选) 一个 HTML 表单元素,可以包含任何形式的表单控件,包括文件输入框.</td></tr></tbody></table><h3 id=方法>方法<a hidden class=anchor aria-hidden=true href=#方法>#</a></h3><p>void append(DOMString name, DOMString value)</p><ul><li>name 表单元素名称</li><li>value 表单元素要传递的值</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>form</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;myForm&#34;</span>  <span style=color:#a6e22e>enctype</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;multipart/form-data&#34;</span>&gt;  
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;userName&#34;</span>&gt;  
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;file&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;img&#34;</span>&gt;  
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span>&gt;  
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>form</span>&gt;  
</span></span><span style=display:flex><span>  
</span></span></code></pre></div><h2 id=2-使用-javascript-简单实现>2. 使用 javascript 简单实现<a hidden class=anchor aria-hidden=true href=#2-使用-javascript-简单实现>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>upload</span>() {  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>userName</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>myForm</span>.<span style=color:#a6e22e>userName</span>.<span style=color:#a6e22e>value</span>;  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>myForm</span>.<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>files</span>[<span style=color:#ae81ff>0</span>];  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>fm</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>FormData</span>();  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fm</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;userName&#39;</span>, <span style=color:#a6e22e>userName</span>);  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fm</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;img&#39;</span>, <span style=color:#a6e22e>img</span>);  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>request</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>XMLHttpRequest</span>();  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>request</span>.<span style=color:#a6e22e>open</span>(<span style=color:#e6db74>&#39;POST&#39;</span>, <span style=color:#e6db74>&#39;submitform.php&#39;</span>);  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>request</span>.<span style=color:#a6e22e>send</span>(<span style=color:#a6e22e>fm</span>);  
</span></span><span style=display:flex><span>}  
</span></span></code></pre></div><h2 id=3--使用-ajax-实现>3. 使用 Ajax 实现<a hidden class=anchor aria-hidden=true href=#3--使用-ajax-实现>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#39;#btn&#39;</span>).<span style=color:#a6e22e>click</span>(<span style=color:#66d9ef>function</span> () {  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>userName</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>myForm</span>.<span style=color:#a6e22e>userName</span>.<span style=color:#a6e22e>value</span>;  
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>myForm</span>.<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>files</span>[<span style=color:#ae81ff>0</span>];  
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>fm</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>FormData</span>();  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fm</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;userName&#39;</span>, <span style=color:#a6e22e>userName</span>);  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fm</span>.<span style=color:#a6e22e>append</span>(<span style=color:#e6db74>&#39;img&#39;</span>, <span style=color:#a6e22e>img</span>);  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>$</span>.<span style=color:#a6e22e>ajax</span>(  
</span></span><span style=display:flex><span>        {  
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>url</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;submitform.php&#39;</span>,  
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;POST&#39;</span>,  
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>fm</span>,  
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>contentType</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>, <span style=color:#75715e>//禁止设置请求类型  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>processData</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>, <span style=color:#75715e>//禁止jquery对DAta数据的处理,默认会处理  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#75715e>//禁止的原因是,FormData已经帮我们做了处理  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>success</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>result</span>) {  
</span></span><span style=display:flex><span>                <span style=color:#75715e>//测试是否成功  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#75715e>//但需要你后端有返回值  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>                <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>result</span>);  
</span></span><span style=display:flex><span>            }  
</span></span><span style=display:flex><span>        }  
</span></span><span style=display:flex><span>    );  
</span></span><span style=display:flex><span>});  
</span></span></code></pre></div><h2 id=4-ajaxfileuploadjs-插件实现-ajax-文件上传>4. ajaxfileupload.js 插件实现 Ajax 文件上传<a hidden class=anchor aria-hidden=true href=#4-ajaxfileuploadjs-插件实现-ajax-文件上传>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>upload</span>(){  
</span></span><span style=display:flex><span><span style=color:#a6e22e>$</span>.<span style=color:#a6e22e>ajaxFileUpload</span>({  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;a.php&#39;</span>, <span style=color:#75715e>//用于文件上传的服务器端请求地址  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>secureuri</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>, <span style=color:#75715e>//一般设置为false  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>fileElementId</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;file&#39;</span>, <span style=color:#75715e>//文件上传空间的id属性    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>dataType</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;HTML&#39;</span>, <span style=color:#75715e>//返回值类型 一般设置为json  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>success</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>data</span>, <span style=color:#a6e22e>status</span>)  <span style=color:#75715e>//服务器成功响应处理函数  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        {                  
</span></span><span style=display:flex><span>        	<span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#34;#img1&#34;</span>).<span style=color:#a6e22e>attr</span>(<span style=color:#e6db74>&#34;src&#34;</span>, <span style=color:#a6e22e>data</span>);  
</span></span><span style=display:flex><span>        	<span style=color:#a6e22e>addI</span>(<span style=color:#a6e22e>data</span>);  
</span></span><span style=display:flex><span>        },  
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>error</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>data</span>, <span style=color:#a6e22e>status</span>, <span style=color:#a6e22e>e</span>)<span style=color:#75715e>//服务器响应失败处理函数  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        {  
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>alert</span>(<span style=color:#a6e22e>e</span>);  
</span></span><span style=display:flex><span>        }  
</span></span><span style=display:flex><span>    }     
</span></span><span style=display:flex><span>);  
</span></span><span style=display:flex><span>}   
</span></span></code></pre></div><p>对于 PHP 就可以使用 Files 全局数组拿到文件属性,POST 全局数组拿到 userName 的值</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.printlove.cn/css-center/><span class=title>« 上一页</span><br><span>实现HTML元素垂直居中的六种方法</span></a>
<a class=next href=https://www.printlove.cn/wpf-trigger/><span class=title>下一页 »</span><br><span>WPF如何使用触发器</span></a></nav><div class=comment-head>评论 & Email：</div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Ajax简单实现文件异步上传的多种方法 on x" href="https://x.com/intent/tweet/?text=@laomiao_ Ajax%e7%ae%80%e5%8d%95%e5%ae%9e%e7%8e%b0%e6%96%87%e4%bb%b6%e5%bc%82%e6%ad%a5%e4%b8%8a%e4%bc%a0%e7%9a%84%e5%a4%9a%e7%a7%8d%e6%96%b9%e6%b3%95&amp;url=https%3a%2f%2fwww.printlove.cn%2fajax-upload%2f&amp;hashtags="><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 50 50" fill="currentcolor"><path d="M5.9199219 6 20.582031 27.375 6.2304688 44H9.4101562L21.986328 29.421875 31.986328 44H44L28.681641 21.669922 42.199219 6H39.029297L27.275391 19.617188 17.933594 6H5.9199219zm3.796875 2H16.880859L40.203125 42H33.039062L9.7167969 8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Ajax简单实现文件异步上传的多种方法 on email" href="mailto:mglluoye@gmail.com?subject=Ajax%e7%ae%80%e5%8d%95%e5%ae%9e%e7%8e%b0%e6%96%87%e4%bb%b6%e5%bc%82%e6%ad%a5%e4%b8%8a%e4%bc%a0%e7%9a%84%e5%a4%9a%e7%a7%8d%e6%96%b9%e6%b3%95"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447 4.92893 2 7.28595 2 12 2c4.714.0 7.0711.0 8.5355 1.46447C22 4.92893 22 7.28595 22 12c0 4.714.0 7.0711-1.4645 8.5355C19.0711 22 16.714 22 12 22c-4.71405.0-7.07107.0-8.53553-1.4645C2 19.0711 2 16.714 2 12z" stroke="currentcolor" stroke-width="1.5"/><path d="M2 13H5.16026c.90517.0 1.35776.0 1.75558.183.39783.1829.69237.5266 1.28145 1.2138L8.80271 15.1032C9.39179 15.7904 9.68633 16.1341 10.0842 16.317 10.482 16.5 10.9346 16.5 11.8397 16.5H12.1603C13.0654 16.5 13.518 16.5 13.9158 16.317 14.3137 16.1341 14.6082 15.7904 15.1973 15.1032L15.8027 14.3968C16.3918 13.7096 16.6863 13.3659 17.0842 13.183 17.482 13 17.9346 13 18.8397 13H22" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7h8" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M10 10.5h4" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg></a></div></footer></article></main><footer class=footer><span>Content under license <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>