<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vagrant安装与使用 | PrintLove</title><meta name=keywords content><meta name=description content="安装 环境：win10
下载 virtualbox 和 vagrant，直接傻瓜式下一步安装就行:
virtualbox5.1.8 vagrant1.8.6 常用命令 序号 命令 解释 1 vagrant box list 查看目前已有的 box 2 vagrant box add [自定义名称] [box 镜像路径] 新增加一个 box 3 vagrant box remove 删除指定 box 4 vagrant init 初始化配置 vagrantfile 5 vagrant up 启动虚拟机 6 vagrant ssh ssh 登陆虚拟机 7 vagrant suspend 挂起虚拟机 8 vagrant reload 重启虚拟机 9 vagrant halt 关闭虚拟机 10 vagrant status 查看虚拟机状态 11 vagrant destroy 删除虚拟机 12 vagrant package --output xxx."><meta name=author content="Evan Miao"><link rel=canonical href=https://www.jianshu.com/p/30c347c31fe0><link crossorigin=anonymous href=/assets/css/stylesheet.0f4d06feb7a00553d7b46603ca44aaca1dd036cd7082d6cecf39137242c0cb9e.css integrity="sha256-D00G/regBVPXtGYDykSqyh3QNs1wgtbOzzkTckLAy54=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.printlove.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.printlove.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.printlove.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://www.printlove.cn/apple-touch-icon.png><link rel=mask-icon href=https://www.printlove.cn/safari_pinned_tab.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4bddc7ae6f2203e19017f349bdcc79c2",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VE0D4BXTS2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VE0D4BXTS2",{anonymize_ip:!1})}</script><meta property="og:title" content="Vagrant安装与使用"><meta property="og:description" content="安装 环境：win10
下载 virtualbox 和 vagrant，直接傻瓜式下一步安装就行:
virtualbox5.1.8 vagrant1.8.6 常用命令 序号 命令 解释 1 vagrant box list 查看目前已有的 box 2 vagrant box add [自定义名称] [box 镜像路径] 新增加一个 box 3 vagrant box remove 删除指定 box 4 vagrant init 初始化配置 vagrantfile 5 vagrant up 启动虚拟机 6 vagrant ssh ssh 登陆虚拟机 7 vagrant suspend 挂起虚拟机 8 vagrant reload 重启虚拟机 9 vagrant halt 关闭虚拟机 10 vagrant status 查看虚拟机状态 11 vagrant destroy 删除虚拟机 12 vagrant package --output xxx."><meta property="og:type" content="article"><meta property="og:url" content="https://www.printlove.cn/vagrant-install/"><meta property="og:image" content="https://images.unsplash.com/photo-1618158809130-1f5c1cd63b35?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxMHx8dmFncmFudHxlbnwwfDB8fHwxNzAzMzA1OTM0fDA&ixlib=rb-4.0.3&q=80&w=400"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-09-05T21:17:35+08:00"><meta property="article:modified_time" content="2017-09-05T21:17:35+08:00"><meta property="og:site_name" content="PrintLove"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://images.unsplash.com/photo-1618158809130-1f5c1cd63b35?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxMHx8dmFncmFudHxlbnwwfDB8fHwxNzAzMzA1OTM0fDA&ixlib=rb-4.0.3&q=80&w=400"><meta name=twitter:title content="Vagrant安装与使用"><meta name=twitter:description content="安装 环境：win10
下载 virtualbox 和 vagrant，直接傻瓜式下一步安装就行:
virtualbox5.1.8 vagrant1.8.6 常用命令 序号 命令 解释 1 vagrant box list 查看目前已有的 box 2 vagrant box add [自定义名称] [box 镜像路径] 新增加一个 box 3 vagrant box remove 删除指定 box 4 vagrant init 初始化配置 vagrantfile 5 vagrant up 启动虚拟机 6 vagrant ssh ssh 登陆虚拟机 7 vagrant suspend 挂起虚拟机 8 vagrant reload 重启虚拟机 9 vagrant halt 关闭虚拟机 10 vagrant status 查看虚拟机状态 11 vagrant destroy 删除虚拟机 12 vagrant package --output xxx."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.printlove.cn/posts/"},{"@type":"ListItem","position":2,"name":"Vagrant安装与使用","item":"https://www.printlove.cn/vagrant-install/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vagrant安装与使用","name":"Vagrant安装与使用","description":"安装 环境：win10\n下载 virtualbox 和 vagrant，直接傻瓜式下一步安装就行:\nvirtualbox5.1.8 vagrant1.8.6 常用命令 序号 命令 解释 1 vagrant box list 查看目前已有的 box 2 vagrant box add [自定义名称] [box 镜像路径] 新增加一个 box 3 vagrant box remove 删除指定 box 4 vagrant init 初始化配置 vagrantfile 5 vagrant up 启动虚拟机 6 vagrant ssh ssh 登陆虚拟机 7 vagrant suspend 挂起虚拟机 8 vagrant reload 重启虚拟机 9 vagrant halt 关闭虚拟机 10 vagrant status 查看虚拟机状态 11 vagrant destroy 删除虚拟机 12 vagrant package --output xxx.","keywords":[],"articleBody":"安装 环境：win10\n下载 virtualbox 和 vagrant，直接傻瓜式下一步安装就行:\nvirtualbox5.1.8 vagrant1.8.6 常用命令 序号 命令 解释 1 vagrant box list 查看目前已有的 box 2 vagrant box add [自定义名称] [box 镜像路径] 新增加一个 box 3 vagrant box remove 删除指定 box 4 vagrant init 初始化配置 vagrantfile 5 vagrant up 启动虚拟机 6 vagrant ssh ssh 登陆虚拟机 7 vagrant suspend 挂起虚拟机 8 vagrant reload 重启虚拟机 9 vagrant halt 关闭虚拟机 10 vagrant status 查看虚拟机状态 11 vagrant destroy 删除虚拟机 12 vagrant package --output xxx.box 打包分发 13 vagrant package ---output xxx.box --base \" 自己的 box\" 应用 做好准备 virtualbox、vagrant、xshell 的安装工作，这里不做详细说明\n添加 box\n3. 查看 box 列表\n4. 删除 box\n5. 初始化 (在当前目录会生成 Vagrantfile 文件)\n启动虚拟机 注意: 如果启动失败，修改 Vagrantfile 文件\n登陆虚拟机 注意：默认用户 root,密码 vagrant\n打包 注意：\n打包时急着注释掉 Vargarntfile 配置文件的 ip 如果在 vagrant up 命令出现 ssh 连接卡死状态，则试着查看 boot 中是否开启 virtualox 扩展磁盘 关闭实例，找到磁盘镜像文件 将 virtualbox 安装目录下的 VBoxManage 命令路径添加到环境变量 VBoxManage.exe clonehd box-disk1.vmdk box-disk1.vdi -format VDI # 复制镜像并转化格式 自动启动服务 打开 Vagrantfile 文件，编辑\nconfig.vm.provision \"shell\", inline: \u003c\u003c-SHELL # apt-get update # apt-get install -y apache2 systemctl stop firewalld /server/apache/bin/httpd -k start /etc/init.d/mysql.server start SHELL 重新启动虚拟机\nvagrant reload --provision --provision 表示启用上面文件编辑的配置 问题 运行 vagrant up 出现 解决办法：\n安裝 Hyper-V VirtualBox Won’t Run) 查看以上两个文档最终解决办法是关闭 Hyper-V，命令如下（使用管理员身份打开 cmd）\nbcdedit /set hypervisorlaunchtype off 然后重启系统成功\n","wordCount":"189","inLanguage":"zh","image":"https://images.unsplash.com/photo-1618158809130-1f5c1cd63b35?crop=entropy\u0026cs=tinysrgb\u0026fit=max\u0026fm=jpg\u0026ixid=M3wzNjAwOTd8MHwxfHNlYXJjaHwxMHx8dmFncmFudHxlbnwwfDB8fHwxNzAzMzA1OTM0fDA\u0026ixlib=rb-4.0.3\u0026q=80\u0026w=400","datePublished":"2017-09-05T21:17:35+08:00","dateModified":"2017-09-05T21:17:35+08:00","author":[{"@type":"Person","name":"Evan Miao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.printlove.cn/vagrant-install/"},"publisher":{"@type":"Organization","name":"PrintLove","logo":{"@type":"ImageObject","url":"https://www.printlove.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.printlove.cn/ accesskey=h title="PrintLove (Alt + H)">PrintLove</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.printlove.cn/archives title=文章><span>文章</span></a></li><li><a href=https://www.printlove.cn/series title=系列><span>系列</span></a></li><li><a href=https://www.printlove.cn/sponsor title=赞助><span>赞助</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Vagrant安装与使用</h1><div class=post-meta><span title='2017-09-05 21:17:35 +0800 CST'>2017-09-05</span>&nbsp;·&nbsp;Evan Miao&nbsp;|&nbsp;<a href=https://github.com/miaogaolin/workspace-obisidian-publisher/tree/main/content/posts/Vagrant%e5%ae%89%e8%a3%85%e4%b8%8e%e4%bd%bf%e7%94%a8.md rel="noopener noreferrer" target=_blank>指出问题</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#安装>安装</a></li><li><a href=#常用命令>常用命令</a></li><li><a href=#应用>应用</a></li><li><a href=#扩展磁盘>扩展磁盘</a></li><li><a href=#问题>问题</a></li></ul></nav></div></details></div><div class=post-content><h2 id=安装>安装<a hidden class=anchor aria-hidden=true href=#安装>#</a></h2><p>环境：win10<br>下载 <code>virtualbox</code> 和 <code>vagrant</code>，直接傻瓜式下一步安装就行:</p><ul><li><a href=https://www.virtualbox.org/wiki/Download_Old_Builds_5_1>virtualbox5.1.8</a></li><li><a href=https://releases.hashicorp.com/vagrant/1.8.6/>vagrant1.8.6</a></li></ul><h2 id=常用命令>常用命令<a hidden class=anchor aria-hidden=true href=#常用命令>#</a></h2><table><thead><tr><th style=text-align:center>序号</th><th>命令</th><th>解释</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td>vagrant box list</td><td>查看目前已有的 box</td></tr><tr><td style=text-align:center>2</td><td>vagrant box add [自定义名称] [box 镜像路径]</td><td>新增加一个 box</td></tr><tr><td style=text-align:center>3</td><td>vagrant box remove</td><td>删除指定 box</td></tr><tr><td style=text-align:center>4</td><td>vagrant init</td><td>初始化配置 vagrantfile</td></tr><tr><td style=text-align:center>5</td><td>vagrant up</td><td>启动虚拟机</td></tr><tr><td style=text-align:center>6</td><td>vagrant ssh</td><td>ssh 登陆虚拟机</td></tr><tr><td style=text-align:center>7</td><td>vagrant suspend</td><td>挂起虚拟机</td></tr><tr><td style=text-align:center>8</td><td>vagrant reload</td><td>重启虚拟机</td></tr><tr><td style=text-align:center>9</td><td>vagrant halt</td><td>关闭虚拟机</td></tr><tr><td style=text-align:center>10</td><td>vagrant status</td><td>查看虚拟机状态</td></tr><tr><td style=text-align:center>11</td><td>vagrant destroy</td><td>删除虚拟机</td></tr><tr><td style=text-align:center>12</td><td>vagrant package --output xxx.box</td><td>打包分发</td></tr><tr><td style=text-align:center>13</td><td>vagrant package ---output xxx.box --base " 自己的 box"</td><td></td></tr></tbody></table><h2 id=应用>应用<a hidden class=anchor aria-hidden=true href=#应用>#</a></h2><ol><li><p>做好准备 virtualbox、vagrant、xshell 的安装工作，这里不做详细说明</p></li><li><p>添加 box</p></li></ol><p><img loading=lazy src=/images/20231208091267.webp alt><br>3. 查看 box 列表</p><p><img loading=lazy src=/images/20231208091273no1.webp alt><br>4. 删除 box</p><p><img loading=lazy src=/images/20231208091282.webp alt><br>5. 初始化 (在当前目录会生成 <code>Vagrantfile</code> 文件)</p><p><img loading=lazy src=/images/20231208091289.webp alt></p><ol start=6><li>启动虚拟机</li></ol><p><img loading=lazy src=/images/20231208091296.webp alt><br><strong>注意</strong>: 如果启动失败，修改 Vagrantfile 文件</p><p><img loading=lazy src=/images/20231208091203.webp alt></p><ol start=7><li>登陆虚拟机</li></ol><p><img loading=lazy src=/images/20231208091210no1.webp alt><br>注意：默认用户 root,密码 vagrant</p><ol start=8><li>打包</li></ol><p><img loading=lazy src=/images/20231208091217.webp alt><br><strong>注意</strong>：</p><ul><li>打包时急着注释掉 <code>Vargarntfile</code> 配置文件的 ip</li><li>如果在 vagrant up 命令出现 ssh 连接卡死状态，则试着查看 boot 中是否开启 virtualox</li></ul><h2 id=扩展磁盘>扩展磁盘<a hidden class=anchor aria-hidden=true href=#扩展磁盘>#</a></h2><ol><li>关闭实例，找到磁盘镜像文件</li></ol><p><img loading=lazy src=/images/20231208091224no1.webp alt></p><ol start=2><li>将 virtualbox 安装目录下的 VBoxManage 命令路径添加到环境变量</li></ol><pre tabindex=0><code>VBoxManage.exe clonehd box-disk1.vmdk box-disk1.vdi -format VDI # 复制镜像并转化格式  
</code></pre><ol start=3><li>自动启动服务</li></ol><p>打开 Vagrantfile 文件，编辑</p><pre tabindex=0><code>  config.vm.provision &#34;shell&#34;, inline: &lt;&lt;-SHELL  
  #   apt-get update  
  #   apt-get install -y apache2  
      systemctl stop firewalld  
      /server/apache/bin/httpd -k start    
      /etc/init.d/mysql.server start  
  SHELL  
</code></pre><p>重新启动虚拟机</p><pre tabindex=0><code>vagrant reload --provision  
</code></pre><ul><li><code>--provision</code> 表示启用上面文件编辑的配置</li></ul><h2 id=问题>问题<a hidden class=anchor aria-hidden=true href=#问题>#</a></h2><ol><li>运行 <code>vagrant up</code> 出现</li></ol><p><img loading=lazy src=/images/20231208091232.webp alt></p><p>解决办法：</p><ul><li><a href=https://docs.microsoft.com/zh-tw/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v>安裝 Hyper-V</a></li><li><a href=https://discuss.erpnext.com/t/virtualbox-wont-run-raw-mode-unavailable-courtesy-of-hyper-v/34541>VirtualBox Won’t Run)</a></li></ul><p>查看以上两个文档最终解决办法是关闭 Hyper-V，命令如下（使用管理员身份打开 cmd）</p><pre tabindex=0><code> bcdedit /set hypervisorlaunchtype off  
</code></pre><p>然后重启系统成功</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.printlove.cn/css-plus/><span class=title>« 上一页</span><br><span>css的高级用法</span></a>
<a class=next href=https://www.printlove.cn/thinkphp-cron/><span class=title>下一页 »</span><br><span>Thinkphp的cron计划任务</span></a></nav><div class=comment-head>评论 & Email：</div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Vagrant安装与使用 on x" href="https://x.com/intent/tweet/?text=@laomiao_ Vagrant%e5%ae%89%e8%a3%85%e4%b8%8e%e4%bd%bf%e7%94%a8&amp;url=https%3a%2f%2fwww.printlove.cn%2fvagrant-install%2f&amp;hashtags="><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 50 50" fill="currentcolor"><path d="M5.9199219 6 20.582031 27.375 6.2304688 44H9.4101562L21.986328 29.421875 31.986328 44H44L28.681641 21.669922 42.199219 6H39.029297L27.275391 19.617188 17.933594 6H5.9199219zm3.796875 2H16.880859L40.203125 42H33.039062L9.7167969 8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Vagrant安装与使用 on email" href="mailto:mglluoye@gmail.com?subject=Vagrant%e5%ae%89%e8%a3%85%e4%b8%8e%e4%bd%bf%e7%94%a8"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447 4.92893 2 7.28595 2 12 2c4.714.0 7.0711.0 8.5355 1.46447C22 4.92893 22 7.28595 22 12c0 4.714.0 7.0711-1.4645 8.5355C19.0711 22 16.714 22 12 22c-4.71405.0-7.07107.0-8.53553-1.4645C2 19.0711 2 16.714 2 12z" stroke="currentcolor" stroke-width="1.5"/><path d="M2 13H5.16026c.90517.0 1.35776.0 1.75558.183.39783.1829.69237.5266 1.28145 1.2138L8.80271 15.1032C9.39179 15.7904 9.68633 16.1341 10.0842 16.317 10.482 16.5 10.9346 16.5 11.8397 16.5H12.1603C13.0654 16.5 13.518 16.5 13.9158 16.317 14.3137 16.1341 14.6082 15.7904 15.1973 15.1032L15.8027 14.3968C16.3918 13.7096 16.6863 13.3659 17.0842 13.183 17.482 13 17.9346 13 18.8397 13H22" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7h8" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M10 10.5h4" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg></a></div></footer></article></main><footer class=footer><span>Content under license <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>