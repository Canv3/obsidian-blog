<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>使用sql语句的两种分页方法 | PrintLove</title><meta name=keywords content><meta name=description content="使用存储过程 1. 使用 top 方法 <pre name=&#34;code&#34; class=&#34;sql&#34;>--一条一条的访问数据库 Create procedure data_page @num int,--每页的信息数 @i int--接受是第几页 as declare @n int --存储总信息数 set @n=(select COUNT(*) from people) if(@i<=@n/@num) begin select top (@num) * from people where P_id in(select top (@i*@num) p_id from people order by p_id asc) order by p_id desc end --如果最后一张不是完整的一页 --进入一面的判断 if(@i*@num-@n>0) select top (@n-(@i-1)*@num) * from people order by p_id desc go exec data_page 5,1 --删除存储过程 drop procedure data_page 2."><meta name=author content="Evan Miao"><link rel=canonical href=https://blog.csdn.net/sinat_32124195/article/details/49250085><link crossorigin=anonymous href=/assets/css/stylesheet.0f4d06feb7a00553d7b46603ca44aaca1dd036cd7082d6cecf39137242c0cb9e.css integrity="sha256-D00G/regBVPXtGYDykSqyh3QNs1wgtbOzzkTckLAy54=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.printlove.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.printlove.cn/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.printlove.cn/favicon-32x32.png><link rel=apple-touch-icon href=https://www.printlove.cn/apple-touch-icon.png><link rel=mask-icon href=https://www.printlove.cn/safari_pinned_tab.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://npm.elemecdn.com/lxgw-wenkai-screen-webfont@1.7.0/style.css media=print onload='this.media="all"'><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4bddc7ae6f2203e19017f349bdcc79c2",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-VE0D4BXTS2"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VE0D4BXTS2",{anonymize_ip:!1})}</script><meta property="og:title" content="使用sql语句的两种分页方法"><meta property="og:description" content="使用存储过程 1. 使用 top 方法 <pre name=&#34;code&#34; class=&#34;sql&#34;>--一条一条的访问数据库 Create procedure data_page @num int,--每页的信息数 @i int--接受是第几页 as declare @n int --存储总信息数 set @n=(select COUNT(*) from people) if(@i<=@n/@num) begin select top (@num) * from people where P_id in(select top (@i*@num) p_id from people order by p_id asc) order by p_id desc end --如果最后一张不是完整的一页 --进入一面的判断 if(@i*@num-@n>0) select top (@n-(@i-1)*@num) * from people order by p_id desc go exec data_page 5,1 --删除存储过程 drop procedure data_page 2."><meta property="og:type" content="article"><meta property="og:url" content="https://www.printlove.cn/sql-page/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-10-19T15:12:58+08:00"><meta property="article:modified_time" content="2015-10-19T15:12:58+08:00"><meta property="og:site_name" content="PrintLove"><meta name=twitter:card content="summary"><meta name=twitter:title content="使用sql语句的两种分页方法"><meta name=twitter:description content="使用存储过程 1. 使用 top 方法 <pre name=&#34;code&#34; class=&#34;sql&#34;>--一条一条的访问数据库 Create procedure data_page @num int,--每页的信息数 @i int--接受是第几页 as declare @n int --存储总信息数 set @n=(select COUNT(*) from people) if(@i<=@n/@num) begin select top (@num) * from people where P_id in(select top (@i*@num) p_id from people order by p_id asc) order by p_id desc end --如果最后一张不是完整的一页 --进入一面的判断 if(@i*@num-@n>0) select top (@n-(@i-1)*@num) * from people order by p_id desc go exec data_page 5,1 --删除存储过程 drop procedure data_page 2."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.printlove.cn/posts/"},{"@type":"ListItem","position":2,"name":"使用sql语句的两种分页方法","item":"https://www.printlove.cn/sql-page/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"使用sql语句的两种分页方法","name":"使用sql语句的两种分页方法","description":"使用存储过程 1. 使用 top 方法 \u0026lt;pre name=\u0026#34;code\u0026#34; class=\u0026#34;sql\u0026#34;\u0026gt;--一条一条的访问数据库 Create procedure data_page @num int,--每页的信息数 @i int--接受是第几页 as declare @n int --存储总信息数 set @n=(select COUNT(*) from people) if(@i\u0026lt;=@n/@num) begin select top (@num) * from people where P_id in(select top (@i*@num) p_id from people order by p_id asc) order by p_id desc end --如果最后一张不是完整的一页 --进入一面的判断 if(@i*@num-@n\u0026gt;0) select top (@n-(@i-1)*@num) * from people order by p_id desc go exec data_page 5,1 --删除存储过程 drop procedure data_page 2.","keywords":[],"articleBody":"使用存储过程 1. 使用 top 方法 \u003cpre name=\"code\" class=\"sql\"\u003e--一条一条的访问数据库 Create procedure data_page @num int,--每页的信息数 @i int--接受是第几页 as declare @n int --存储总信息数 set @n=(select COUNT(*) from people) if(@i\u003c=@n/@num) begin select top (@num) * from people where P_id in(select top (@i*@num) p_id from people order by p_id asc) order by p_id desc end --如果最后一张不是完整的一页 --进入一面的判断 if(@i*@num-@n\u003e0) select top (@n-(@i-1)*@num) * from people order by p_id desc go exec data_page 5,1 --删除存储过程 drop procedure data_page 2.使用 sql 里面的内置函数 row_number(可以生成行号) \u003cpre name=\"code\" class=\"sql\"\u003e--内置函数ROW_NUMBER()的使用 --给每行加编号 select *,row_number() over(order by p_id) as rows from people --按组进行编号,以5行为一组 select *,((ROW_NUMBER() over(order by p_id)-1)/5 as rows from people go --利用编号进行分页 create procedure proSplitPage @peerPageRows int,--每页要显示的行数 @indexPage int--接受要显示第几页 as select p_id,p_name,p_pwd,p_age,register_time from (select *,(ROW_NUMBER() over(order by p_id))-1)/@peerPageRows as rows from people) as tb where rows=@indexPage-1 ","wordCount":"124","inLanguage":"zh","datePublished":"2015-10-19T15:12:58+08:00","dateModified":"2015-10-19T15:12:58+08:00","author":[{"@type":"Person","name":"Evan Miao"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.printlove.cn/sql-page/"},"publisher":{"@type":"Organization","name":"PrintLove","logo":{"@type":"ImageObject","url":"https://www.printlove.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.printlove.cn/ accesskey=h title="PrintLove (Alt + H)">PrintLove</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.printlove.cn/archives title=文章><span>文章</span></a></li><li><a href=https://www.printlove.cn/series title=系列><span>系列</span></a></li><li><a href=https://www.printlove.cn/sponsor title=赞助><span>赞助</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>使用sql语句的两种分页方法</h1><div class=post-meta><span title='2015-10-19 15:12:58 +0800 CST'>2015-10-19</span>&nbsp;·&nbsp;Evan Miao&nbsp;|&nbsp;<a href=https://github.com/miaogaolin/workspace-obisidian-publisher/tree/main/content/posts/%e4%bd%bf%e7%94%a8sql%e8%af%ad%e5%8f%a5%e7%9a%84%e4%b8%a4%e7%a7%8d%e5%88%86%e9%a1%b5%e6%96%b9%e6%b3%95.md rel="noopener noreferrer" target=_blank>指出问题</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#使用存储过程>使用存储过程</a><ul><li><a href=#1-使用-top-方法>1. 使用 top 方法</a></li><li><a href=#2使用-sql-里面的内置函数-row_number可以生成行号>2.使用 sql 里面的内置函数 row_number(可以生成行号)</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h2 id=使用存储过程>使用存储过程<a hidden class=anchor aria-hidden=true href=#使用存储过程>#</a></h2><h3 id=1-使用-top-方法>1. 使用 top 方法<a hidden class=anchor aria-hidden=true href=#1-使用-top-方法>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#f92672>&lt;</span>pre name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;code&#34;</span> <span style=color:#66d9ef>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;sql&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>--一条一条的访问数据库  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>Create</span> <span style=color:#66d9ef>procedure</span> data_page  
</span></span><span style=display:flex><span><span style=color:#f92672>@</span>num int,<span style=color:#75715e>--每页的信息数  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>@</span>i int<span style=color:#75715e>--接受是第几页  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>as</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>declare</span> <span style=color:#f92672>@</span>n int  
</span></span><span style=display:flex><span><span style=color:#75715e>--存储总信息数  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>set</span> <span style=color:#f92672>@</span>n<span style=color:#f92672>=</span>(<span style=color:#66d9ef>select</span> <span style=color:#66d9ef>COUNT</span>(<span style=color:#f92672>*</span>) <span style=color:#66d9ef>from</span> people)  
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#f92672>@</span>i<span style=color:#f92672>&lt;=@</span>n<span style=color:#f92672>/@</span>num)  
</span></span><span style=display:flex><span><span style=color:#66d9ef>begin</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>select</span> top (<span style=color:#f92672>@</span>num) <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> people   
</span></span><span style=display:flex><span><span style=color:#66d9ef>where</span> P_id <span style=color:#66d9ef>in</span>(<span style=color:#66d9ef>select</span> top (<span style=color:#f92672>@</span>i<span style=color:#f92672>*@</span>num) p_id <span style=color:#66d9ef>from</span> people <span style=color:#66d9ef>order</span> <span style=color:#66d9ef>by</span> p_id <span style=color:#66d9ef>asc</span>)   
</span></span><span style=display:flex><span><span style=color:#66d9ef>order</span> <span style=color:#66d9ef>by</span> p_id <span style=color:#66d9ef>desc</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>end</span>  
</span></span><span style=display:flex><span><span style=color:#75715e>--如果最后一张不是完整的一页  
</span></span></span><span style=display:flex><span><span style=color:#75715e>--进入一面的判断  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>if</span>(<span style=color:#f92672>@</span>i<span style=color:#f92672>*@</span>num<span style=color:#f92672>-@</span>n<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>0</span>)  
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>select</span> top (<span style=color:#f92672>@</span>n<span style=color:#f92672>-</span>(<span style=color:#f92672>@</span>i<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>*@</span>num) <span style=color:#f92672>*</span>   
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>from</span> people <span style=color:#66d9ef>order</span> <span style=color:#66d9ef>by</span> p_id <span style=color:#66d9ef>desc</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>exec</span> data_page <span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>1</span>  
</span></span><span style=display:flex><span><span style=color:#75715e>--删除存储过程  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>procedure</span> data_page  
</span></span></code></pre></div><h3 id=2使用-sql-里面的内置函数-row_number可以生成行号>2.使用 sql 里面的内置函数 row_number(可以生成行号)<a hidden class=anchor aria-hidden=true href=#2使用-sql-里面的内置函数-row_number可以生成行号>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-SQL data-lang=SQL><span style=display:flex><span><span style=color:#f92672>&lt;</span>pre name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;code&#34;</span> <span style=color:#66d9ef>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;sql&#34;</span><span style=color:#f92672>&gt;</span><span style=color:#75715e>--内置函数ROW_NUMBER()的使用  
</span></span></span><span style=display:flex><span><span style=color:#75715e>--给每行加编号  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span>,row_number() over(<span style=color:#66d9ef>order</span> <span style=color:#66d9ef>by</span> p_id) <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>rows</span> <span style=color:#66d9ef>from</span> people  
</span></span><span style=display:flex><span><span style=color:#75715e>--按组进行编号,以5行为一组  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span>,((ROW_NUMBER() over(<span style=color:#66d9ef>order</span> <span style=color:#66d9ef>by</span> p_id)<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>5</span> <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>rows</span> <span style=color:#66d9ef>from</span> people  
</span></span><span style=display:flex><span><span style=color:#66d9ef>go</span>  
</span></span><span style=display:flex><span><span style=color:#75715e>--利用编号进行分页  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>   
</span></span><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>procedure</span> proSplitPage  
</span></span><span style=display:flex><span><span style=color:#f92672>@</span>peerPageRows int,<span style=color:#75715e>--每页要显示的行数  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#f92672>@</span>indexPage int<span style=color:#75715e>--接受要显示第几页  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>as</span>  
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span><span style=color:#66d9ef>select</span> p_id,p_name,p_pwd,p_age,register_time <span style=color:#66d9ef>from</span>   
</span></span><span style=display:flex><span>(<span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span>,(ROW_NUMBER() over(<span style=color:#66d9ef>order</span> <span style=color:#66d9ef>by</span> p_id))<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>/@</span>peerPageRows  <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>rows</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>from</span> people) <span style=color:#66d9ef>as</span> tb <span style=color:#66d9ef>where</span> <span style=color:#66d9ef>rows</span><span style=color:#f92672>=@</span>indexPage<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>  
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://www.printlove.cn/csharp-python/><span class=title>« 上一页</span><br><span>C#调用Python语言</span></a></nav><div class=comment-head>评论 & Email：</div><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share 使用sql语句的两种分页方法 on x" href="https://x.com/intent/tweet/?text=@laomiao_ %e4%bd%bf%e7%94%a8sql%e8%af%ad%e5%8f%a5%e7%9a%84%e4%b8%a4%e7%a7%8d%e5%88%86%e9%a1%b5%e6%96%b9%e6%b3%95&amp;url=https%3a%2f%2fwww.printlove.cn%2fsql-page%2f&amp;hashtags="><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 50 50" fill="currentcolor"><path d="M5.9199219 6 20.582031 27.375 6.2304688 44H9.4101562L21.986328 29.421875 31.986328 44H44L28.681641 21.669922 42.199219 6H39.029297L27.275391 19.617188 17.933594 6H5.9199219zm3.796875 2H16.880859L40.203125 42H33.039062L9.7167969 8z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share 使用sql语句的两种分页方法 on email" href="mailto:mglluoye@gmail.com?subject=%e4%bd%bf%e7%94%a8sql%e8%af%ad%e5%8f%a5%e7%9a%84%e4%b8%a4%e7%a7%8d%e5%88%86%e9%a1%b5%e6%96%b9%e6%b3%95"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447 4.92893 2 7.28595 2 12 2c4.714.0 7.0711.0 8.5355 1.46447C22 4.92893 22 7.28595 22 12c0 4.714.0 7.0711-1.4645 8.5355C19.0711 22 16.714 22 12 22c-4.71405.0-7.07107.0-8.53553-1.4645C2 19.0711 2 16.714 2 12z" stroke="currentcolor" stroke-width="1.5"/><path d="M2 13H5.16026c.90517.0 1.35776.0 1.75558.183.39783.1829.69237.5266 1.28145 1.2138L8.80271 15.1032C9.39179 15.7904 9.68633 16.1341 10.0842 16.317 10.482 16.5 10.9346 16.5 11.8397 16.5H12.1603C13.0654 16.5 13.518 16.5 13.9158 16.317 14.3137 16.1341 14.6082 15.7904 15.1973 15.1032L15.8027 14.3968C16.3918 13.7096 16.6863 13.3659 17.0842 13.183 17.482 13 17.9346 13 18.8397 13H22" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M8 7h8" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/><path d="M10 10.5h4" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg></a></div></footer></article></main><footer class=footer><span>Content under license <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>